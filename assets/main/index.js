System.register("chunks:///_virtual/DataStorage.ts",["cc","./Platform.ts"],(function(t){"use strict";var c,e,s;return{setters:[function(t){c=t.cclegacy},function(t){e=t.default,s=t.PlatformType}],execute:function(){c._RF.push({},"0bf01ZE+B5E3YZuI16GsITP","DataStorage",void 0);t("default",function(){function t(){}return t.dataExist=function(t){return cc.sys.platform===cc.sys.WECHAT_GAME||cc.sys.platform===cc.sys.BYTEDANCE_MINI_GAME?0!==wx.getStorageSync(t).length:e.currentPlatform===s.VIVO?0!==qg.getStorageSync({key:t}).length:null!==cc.sys.localStorage.getItem(t)},t.save=function(t,c){cc.sys.platform===cc.sys.WECHAT_GAME||cc.sys.platform===cc.sys.BYTEDANCE_MINI_GAME?wx.setStorageSync(t,c):e.currentPlatform===s.VIVO?qg.setStorageSync({key:t,value:JSON.stringify(c)}):cc.sys.localStorage.setItem(t,JSON.stringify(c))},t.delete=function(t){cc.sys.platform===cc.sys.WECHAT_GAME||cc.sys.platform===cc.sys.BYTEDANCE_MINI_GAME?wx.removeStorageSync(t):e.currentPlatform===s.VIVO?qg.deleteStorageSync({key:t}):cc.sys.localStorage.removeItem(t)},t.deleteAll=function(){cc.sys.platform===cc.sys.WECHAT_GAME||cc.sys.platform===cc.sys.BYTEDANCE_MINI_GAME||cc.sys.localStorage.clear()},t.load=function(t,c){if(void 0===c&&(c=null),cc.sys.platform===cc.sys.WECHAT_GAME||cc.sys.platform===cc.sys.BYTEDANCE_MINI_GAME){var r=wx.getStorageSync(t);if(0!==r.length)return r}else if(e.currentPlatform===s.VIVO){var a=qg.getStorageSync({key:t});if(0!==a.length)return JSON.parse(a)}else{var o=cc.sys.localStorage.getItem(t);if(null!==o)return JSON.parse(o)}return c},t}());c._RF.pop()}}}));

System.register("chunks:///_virtual/AudioManager.ts",["cc","./_rollupPluginModLoBabelHelpers.js"],(function(n){"use strict";var i,e,o,t,u,a,c,s,r,l,d,p;return{setters:[function(n){i=n.cclegacy,e=n._decorator,o=n.AudioClip,t=n.AudioSource,u=n.game,a=n.tween,c=n.Component},function(n){s=n.defineProperty,r=n.applyDecoratedDescriptor,l=n.inheritsLoose,d=n.initializerDefineProperty,p=n.assertThisInitialized}],execute:function(){var f,g,S,y,m,h,v;n("AudioClipID",void 0),i._RF.push({},"0e6c2dYwCtHwpdnk0NGOK+7","AudioManager",void 0);var C,A=e.ccclass,B=e.property;!function(n){n[n.CubeClick=0]="CubeClick",n[n.Star=1]="Star"}(C||(C=n("AudioClipID",{})));n("AudioManager",(f=A("AudioManager"),g=B({type:[o]}),f((v=h=function(n){function i(){for(var i,e=arguments.length,o=new Array(e),t=0;t<e;t++)o[t]=arguments[t];return i=n.call.apply(n,[this].concat(o))||this,d(p(i),"clips",m,p(i)),s(p(i),"audioSource",null),i}l(i,n);var e=i.prototype;return e.onLoad=function(){i.instance=this,this.audioSource=this.node.getComponent(t),u.addPersistRootNode(this.node)},e.onDisable=function(){this.audioSource.clip.stop()},e.onEnable=function(){},i.onHide=function(){null!==i.instance&&i.instance.audioSource.playing&&(i.shouldResumeBgm=!0,i.instance.audioSource.pause())},i.onShow=function(){null!==i.instance&&i.shouldResumeBgm&&i.instance.scheduleOnce((function(){i.instance.audioSource.play(),i.shouldResumeBgm=!1}),.5)},i.playClip=function(n,e){void 0===e&&(e=1),i.sndOn&&i.instance.audioSource.playOneShot(i.instance.clips[n],e)},i.playBgm=function(){i.sndOn&&(i.instance.audioSource.playing||i.instance.audioSource.play())},i.fadeoutBgm=function(){i.instance.audioSource.playing&&a(i.instance.audioSource).to(.5,{volume:0}).call((function(){i.instance.audioSource.stop()})).start()},i.fadeinBgm=function(){!i.instance.audioSource.playing&&i.sndOn&&(i.instance.audioSource.volume=0,i.instance.audioSource.play(),a(i.instance.audioSource).to(.5,{volume:.5}).call((function(){})).start())},i.stopBgm=function(){i.instance.audioSource.stop()},i.isBgmPlaying=function(){return i.instance.audioSource.playing},i.stopAll=function(){},i}(c),s(h,"instance",null),s(h,"sndOn",!0),s(h,"shouldResumeBgm",!1),m=r((y=v).prototype,"clips",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=y))||S));i._RF.pop()}}}));

System.register("chunks:///_virtual/RotateAnim.ts",["cc","./_rollupPluginModLoBabelHelpers.js"],(function(e){"use strict";var t,i,r,n,o,a,s;return{setters:[function(e){t=e.cclegacy,i=e._decorator,r=e.Component},function(e){n=e.applyDecoratedDescriptor,o=e.inheritsLoose,a=e.initializerDefineProperty,s=e.assertThisInitialized}],execute:function(){var c,l,u,p;t._RF.push({},"1052aElq0lMOp4BsKMzLGfV","RotateAnim",void 0);var d=i.ccclass,f=i.property;e("RotateAnim",d("RotateAnim")((u=n((l=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return t=e.call.apply(e,[this].concat(r))||this,a(s(t),"speed",u,s(t)),a(s(t),"dir",p,s(t)),t}o(t,e);var i=t.prototype;return i.start=function(){},i.update=function(e){0===this.dir?this.node.angle-=e*this.speed:this.node.angle+=e*this.speed},t}(r)).prototype,"speed",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),p=n(l.prototype,"dir",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),c=l))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/SelBtn.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./GameMain.ts"],(function(t){"use strict";var n,e,i,o,r,c,s;return{setters:[function(t){n=t.cclegacy,e=t._decorator,i=t.Component},function(t){o=t.inheritsLoose,r=t.defineProperty,c=t.assertThisInitialized},function(t){s=t.GameMain}],execute:function(){var a;n._RF.push({},"107f7tF9TNAwoIlDs72OjSZ","SelBtn",void 0);var l=e.ccclass;e.property,t("SelBtn",l("SelBtn")(a=function(t){function n(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,r(c(n),"idx",0),n}o(n,t);var e=n.prototype;return e.onLoad=function(){this.node.on("click",this.onClick.bind(this))},e.start=function(){},e.onClick=function(){s.instance.selColor(this.idx)},n}(i))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/SpecCube.ts",["cc","./_rollupPluginModLoBabelHelpers.js"],(function(e){"use strict";var t,r,i,n,a,o,l,u,c,s;return{setters:[function(e){t=e.cclegacy,r=e._decorator,i=e.Mesh,n=e.Material,a=e.MeshRenderer,o=e.Component},function(e){l=e.applyDecoratedDescriptor,u=e.inheritsLoose,c=e.initializerDefineProperty,s=e.assertThisInitialized}],execute:function(){var p,h,b,f,m,y,d,M,g,C,v;t._RF.push({},"12e4fqPq/9E3LHsjTe9RRVF","SpecCube",void 0);var P=r.ccclass,R=r.property;e("SpecCube",(p=P("SpecCube"),h=R({type:i}),b=R({type:i}),f=R({type:n}),m=R({type:n}),p((M=l((d=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return t=e.call.apply(e,[this].concat(i))||this,c(s(t),"cubeMesh",M,s(t)),c(s(t),"roundMesh",g,s(t)),c(s(t),"lightMaterial",C,s(t)),c(s(t),"unlitMaterial",v,s(t)),t}u(t,e);var r=t.prototype;return r.start=function(){},r.setRoundCube=function(){var e=this.node.getComponent(a),t=e.material.getProperty("mainColor");e.mesh=this.roundMesh,e.material=this.lightMaterial,e.material.setProperty("mainColor",t),this.node.children[0].active=!0},r.setRectCube=function(){var e=this.node.getComponent(a),t=e.material.getProperty("mainColor");e.mesh=this.cubeMesh,e.material=this.unlitMaterial,e.material.setProperty("mainColor",t),this.node.children[0].active=!1},t}(o)).prototype,"cubeMesh",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=l(d.prototype,"roundMesh",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=l(d.prototype,"lightMaterial",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=l(d.prototype,"unlitMaterial",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=d))||y));t._RF.pop()}}}));

System.register("chunks:///_virtual/Util.ts",["cc"],(function(r){"use strict";var n;return{setters:[function(r){n=r.cclegacy}],execute:function(){n._RF.push({},"18016GdJsRJ7Y65whj2VbKJ","Util",void 0);r("default",function(){function r(){}return r.randNumber=function(r){return Math.floor(Math.random()*r+1)},r.randRangeNumber=function(r,n){var t=n-r;return r+Math.round(Math.random()*t)},r.randRangeExclude=function(n,t,u){if(n===t)return n;for(var e=r.randRangeNumber(n,t);e===u;)e=r.randRangeNumber(n,t);return e},r.randExtract=function(n,t,u){void 0===u&&(u=!1);for(var e=[];e.length<t;){for(var a=r.randNumber(n),o=!1,c=0;c<e.length;c++)if(e[c]===a){o=!0;break}!1===o&&e.push(a)}return u&&e.sort((function(r,n){return r-n})),e},r.toRadian=function(r){return r*Math.PI/180},r}());n._RF.pop()}}}));

System.register("chunks:///_virtual/LevelStarsData.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./DataStorage.ts"],(function(t){"use strict";var a,s,r;return{setters:[function(t){a=t.cclegacy},function(t){s=t.defineProperty},function(t){r=t.default}],execute:function(){a._RF.push({},"1f900vMUhtNnoemwlrs7cwU","LevelStarsData",void 0);var e=t("default",function(){function t(){s(this,"starsData",[])}var a=t.prototype;return a.reset=function(){this.starsData.splice(0,this.starsData.length);for(var a=0;a<t.dataCount;a++)0===a?this.starsData.push(0):this.starsData.push(-1)},a.clear=function(){r.delete(t.dataName)},a.load=function(){if(r.dataExist(t.dataName)){var a=r.load(t.dataName);cc.sys.platform===cc.sys.WECHAT_GAME||cc.sys.platform===cc.sys.BYTEDANCE_MINI_GAME?this.starsData=JSON.parse(a):this.starsData=a}else this.reset(),cc.sys.platform===cc.sys.WECHAT_GAME||cc.sys.platform===cc.sys.BYTEDANCE_MINI_GAME?r.save(t.dataName,JSON.stringify(this.starsData)):r.save(t.dataName,this.starsData)},a.save=function(){cc.sys.platform===cc.sys.WECHAT_GAME||cc.sys.platform===cc.sys.BYTEDANCE_MINI_GAME?r.save(t.dataName,JSON.stringify(this.starsData)):r.save(t.dataName,this.starsData)},a.setData=function(a,s){a>=0&&a<t.dataCount&&s>this.starsData[a]&&(this.starsData[a]=s,this.save())},a.getData=function(a){return a>=0&&a<t.dataCount?this.starsData[a]:-1},a.isUnlocked=function(a){return a>=0&&a<t.dataCount&&-1!==this.starsData[a]},a.isSpecAllUnlock=function(){for(var t=200;t<214;t++)if(-1===this.starsData[t])return!1;return!0},a.getSpecLockedId=function(){for(var t=200;t<214;t++)if(-1===this.starsData[t])return t;return-1},t}());s(e,"dataName","pixelpaintmaster3d_stars"),s(e,"dataCount",215),a._RF.pop()}}}));

System.register("chunks:///_virtual/GameData.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./GameMain.ts","./DataStorage.ts"],(function(e){"use strict";var t,n,i,s;return{setters:[function(e){t=e.cclegacy},function(e){n=e.defineProperty},function(e){i=e.GameMain},function(e){s=e.default}],execute:function(){t._RF.push({},"2d0d13elvFEHbcoVmkJTnq3","GameData",void 0);var a=e("default",function(){function e(){n(this,"curLevelId",0),n(this,"specLevelId",0),n(this,"recommendId",0),n(this,"money",0),n(this,"snd","on"),n(this,"vibration","on")}var t=e.prototype;return t.reset=function(){this.curLevelId=0,this.specLevelId=0,this.recommendId=0,this.money=0,this.snd="on",this.vibration="on"},t.isSndOn=function(){return"on"===this.snd},t.isVibrationOn=function(){return"on"===this.vibration},t.load=function(){if(s.dataExist(e.dataName)){var t=s.load(e.dataName);this.curLevelId=t.curLevelId,this.specLevelId=t.specLevelId,this.recommendId=t.recommendId,this.money=t.money,this.snd=t.snd,this.vibration=t.vibration}else this.reset(),s.save(e.dataName,this)},t.save=function(){s.save(e.dataName,this)},t.clear=function(){s.delete(e.dataName)},t.updateVibration=function(e){this.vibration=e?"on":"off",this.save()},t.updateSnd=function(e){this.snd=e?"on":"off",this.save()},t.updateMoney=function(e){return!(e<0)&&(this.money=e,this.save(),!0)},t.addMoney=function(e){this.money+=e,this.save()},t.nextLevel=function(){this.curLevelId++,this.curLevelId>=i.MaxLevelCnt&&(this.curLevelId=0),this.save()},t.nextSpecLevel=function(){this.specLevelId++,this.save()},t.nextRecommend=function(){this.recommendId++,this.save()},t.getRecommendId=function(){for(var e=this.recommendId+200;e<214;e++)if(!1===i.instance.starsData.isUnlocked(e))return e-200;for(var t=200;t<214;t++)if(!1===i.instance.starsData.isUnlocked(t))return t-200;return-1},e}());n(a,"dataName","pixelpaintmaster3d"),t._RF.pop()}}}));

System.register("chunks:///_virtual/LevelItem.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./GameMain.ts","./Loading.ts"],(function(t){"use strict";var s,a,e,i,r,h,n,l,d,o,g,c;return{setters:[function(t){s=t.cclegacy,a=t._decorator,e=t.Node,i=t.Sprite,r=t.Component},function(t){h=t.defineProperty,n=t.applyDecoratedDescriptor,l=t.inheritsLoose,d=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){g=t.GameMain},function(t){c=t.Loading}],execute:function(){var u,v,p,P,m,y,B,L,C;s._RF.push({},"33673n2r95CMa4xLo9HdOlB","LevelItem",void 0);var D=a.ccclass,f=a.property;t("LevelItem",(u=D("LevelItem"),v=f({type:e}),p=f({type:e}),u((C=L=function(t){function s(){for(var s,a=arguments.length,e=new Array(a),i=0;i<a;i++)e[i]=arguments[i];return s=t.call.apply(t,[this].concat(e))||this,d(o(s),"btnNode",y,o(s)),d(o(s),"adIcon",B,o(s)),h(o(s),"levelData",0),h(o(s),"gridParent",null),h(o(s),"starsParent",null),h(o(s),"starBgList",[]),h(o(s),"starList",[]),s}l(s,t);var a=s.prototype;return a.onLoad=function(){null===this.gridParent&&(this.gridParent=this.node.getChildByName("gridParent")),null===this.starsParent&&(this.starsParent=this.node.getChildByName("stars")),this.starList.length<3&&(this.starBgList.push(this.starsParent.getChildByName("starbg0")),this.starBgList.push(this.starsParent.getChildByName("starbg1")),this.starBgList.push(this.starsParent.getChildByName("starbg2")),this.starList.push(this.starsParent.getChildByName("star0")),this.starList.push(this.starsParent.getChildByName("star1")),this.starList.push(this.starsParent.getChildByName("star2"))),this.btnNode.on("click",this.onClick.bind(this))},a.onClick=function(){g.instance.onLevelItemClick(this.levelData)},a.start=function(){},a.init=function(t){this.levelData=t,null===this.gridParent&&(this.gridParent=this.node.getChildByName("gridParent")),null===this.starsParent&&(this.starsParent=this.node.getChildByName("stars")),this.starList.length<3&&(this.starBgList.push(this.starsParent.getChildByName("starbg0")),this.starBgList.push(this.starsParent.getChildByName("starbg1")),this.starBgList.push(this.starsParent.getChildByName("starbg2")),this.starList.push(this.starsParent.getChildByName("star0")),this.starList.push(this.starsParent.getChildByName("star1")),this.starList.push(this.starsParent.getChildByName("star2")));var a=-.5*(this.levelData.width-1)*s.itemWidth,e=.5*(this.levelData.height-1)*s.itemWidth,r=this.levelData.width;this.levelData.height>r&&(r=this.levelData.height);var h=8/r;this.gridParent.setScale(h,h,1);var n=!1;n=this.levelData.isSpec?g.instance.starsData.isUnlocked(this.levelData.levelId+200):g.instance.starsData.isUnlocked(this.levelData.levelId),this.adIcon.active=!n;for(var l=0;l<this.levelData.height;l++)for(var d=0;d<this.levelData.width;d++){var o=l*this.levelData.width+d,u=this.levelData.stageColors[o];if(u.flag>0){var v=c.gridObjs[s.gridIdx];v.name=""+o,s.gridIdx++,v.setParent(this.gridParent),v.setPosition(a+d*s.itemWidth,e-l*s.itemWidth,0),v.setScale(1,1,1);var p=v.getComponent(i);p.color=n?u.color:g.blackColor}}this.updateStars()},a.updateDisplay=function(){null===this.gridParent&&(this.gridParent=this.node.getChildByName("gridParent")),null===this.starsParent&&(this.starsParent=this.node.getChildByName("stars")),this.starList.length<3&&(this.starBgList.push(this.starsParent.getChildByName("starbg0")),this.starBgList.push(this.starsParent.getChildByName("starbg1")),this.starBgList.push(this.starsParent.getChildByName("starbg2")),this.starList.push(this.starsParent.getChildByName("star0")),this.starList.push(this.starsParent.getChildByName("star1")),this.starList.push(this.starsParent.getChildByName("star2")));var t=!1;t=this.levelData.isSpec?g.instance.starsData.isUnlocked(this.levelData.levelId+200):g.instance.starsData.isUnlocked(this.levelData.levelId),this.adIcon.active=!t;for(var s=0;s<this.gridParent.children.length;s++){var a=parseInt(this.gridParent.children[s].name),e=this.gridParent.children[s].getComponent(i);if(t){var r=this.levelData.stageColors[a];e.color=r.color}else e.color=g.blackColor}this.updateStars()},a.updateStars=function(){var t=-1;t=this.levelData.isSpec?g.instance.starsData.getData(this.levelData.levelId+200):g.instance.starsData.getData(this.levelData.levelId);for(var s=0;s<this.starList.length;s++)this.starList[s].active=t>s},s}(r),h(L,"itemWidth",12),h(L,"gridIdx",0),y=n((m=C).prototype,"btnNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=n(m.prototype,"adIcon",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=m))||P));s._RF.pop()}}}));

System.register("chunks:///_virtual/ShareUI.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./GameMain.ts","./Platform.ts"],(function(t){"use strict";var e,n,r,i,o,a,s,c,l,h,d,u,f,g;return{setters:[function(t){e=t.cclegacy,n=t._decorator,r=t.instantiate,i=t.Sprite,o=t.UITransform,a=t.tween,s=t.Vec3,c=t.Component},function(t){l=t.inheritsLoose,h=t.defineProperty,d=t.assertThisInitialized},function(t){u=t.GameMain},function(t){f=t.default,g=t.PlatformType}],execute:function(){var p;e._RF.push({},"364e5xVtOpHaoD2RdJ22iSH","ShareUI",void 0);var v=n.ccclass;n.property,t("ShareUI",v("ShareUI")(p=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=t.call.apply(t,[this].concat(r))||this,h(d(e),"contentNode",null),h(d(e),"gridParent",null),e}l(e,t);var n=e.prototype;return n.onLoad=function(){this.contentNode=this.node.getChildByName("content"),this.gridParent=this.contentNode.getChildByName("parent")},n.start=function(){},n.show=function(){this.node.active=!0,this.gridParent.destroyAllChildren(),this.gridParent.removeAllChildren();var t=50,e=u.instance.curLevelData,n=-.5*(e.width-1)*t,c=.5*(e.height-1)*t,l=e.width;e.height>l&&(l=e.height);var h=8/l;this.gridParent.setScale(h,h,1);for(var d=0;d<e.height;d++)for(var f=0;f<e.width;f++){var g=d*e.width+f,p=e.stageColors[g];if(p.flag>0){var v=r(u.instance.levelItemGridPrefab);this.gridParent.addChild(v),v.setPosition(n+f*t,c-d*t,0),v.setScale(1,1,1),v.getComponent(i).color=p.color,v.getComponent(o).setContentSize(t,t)}}this.contentNode.setScale(.4,.4,.4),a(this.contentNode).to(.5,{scale:s.ONE},{easing:"backOut"}).start()},n.close=function(){this.node.active=!1,this.gridParent.destroyAllChildren(),this.gridParent.removeAllChildren()},n.shareClip=function(){var t=this;f.currentPlatform===g.TT&&f.shareRecord((function(){t.scheduleOnce((function(){t.close()}),.2),f.showToast("分享成功!",1500)}))},e}(c))||p);e._RF.pop()}}}));

System.register("chunks:///_virtual/GameMain.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./GameData.ts","./AudioManager.ts","./OppoNativeAd.ts","./LevelData.ts","./SelBtn.ts","./MainUI.ts","./ResultUI.ts","./SettingUI.ts","./LevelListUI.ts","./LevelStarsData.ts","./ShareUI.ts","./Platform.ts"],(function(e){"use strict";var t,i,l,a,n,o,s,r,c,h,u,p,v,d,m,f,C,P,g,b,I,T,L,U,S,y,D,z,w,N,O,G,A,B,E,R,x,V,k;return{setters:[function(e){t=e.cclegacy,i=e._decorator,l=e.Camera,a=e.Canvas,n=e.Node,o=e.Prefab,s=e.Label,r=e.Color,c=e.loader,h=e.systemEvent,u=e.SystemEvent,p=e.PhysicsSystem,v=e.instantiate,d=e.MeshRenderer,m=e.tween,f=e.v3,C=e.Sprite,P=e.quat,g=e.Quat,b=e.Component},function(e){I=e.defineProperty,T=e.applyDecoratedDescriptor,L=e.inheritsLoose,U=e.initializerDefineProperty,S=e.assertThisInitialized},function(e){y=e.default},function(e){D=e.AudioManager,z=e.AudioClipID},function(e){w=e.OppoNativeAd},function(e){N=e.LevelData},function(e){O=e.SelBtn},function(e){G=e.MainUI},function(e){A=e.ResultUI},function(e){B=e.SettingUI},function(e){E=e.LevelListUI},function(e){R=e.default},function(e){x=e.ShareUI},function(e){V=e.default,k=e.PlatformType}],execute:function(){var M,H,_,Y,W,q,F,j,Z,X,J,Q,K,$,ee,te,ie,le,ae,ne,oe,se,re,ce,he,ue,pe,ve,de,me,fe,Ce,Pe,ge,be,Ie,Te,Le,Ue,Se,ye,De,ze,we,Ne,Oe,Ge,Ae,Be;t._RF.push({},"37b65PduuVFMZFUxbsqiCac","GameMain",void 0);var Ee=i.ccclass,Re=i.property;e("GameMain",(M=Ee("GameMain"),H=Re({type:l}),_=Re({type:l}),Y=Re({type:a}),W=Re({type:n}),q=Re({type:n}),F=Re({type:n}),j=Re({type:n}),Z=Re({type:n}),X=Re({type:o}),J=Re({type:o}),Q=Re({type:o}),K=Re({type:o}),$=Re({type:n}),ee=Re({type:G}),te=Re({type:A}),ie=Re({type:B}),le=Re({type:E}),ae=Re({type:x}),ne=Re({type:n}),oe=Re({type:w}),se=Re({type:w}),re=Re({type:s}),M((Be=Ae=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),a=0;a<i;a++)l[a]=arguments[a];return t=e.call.apply(e,[this].concat(l))||this,U(S(t),"camera",ue,S(t)),U(S(t),"specCam",pe,S(t)),U(S(t),"canvas",ve,S(t)),U(S(t),"levelCubeParent",de,S(t)),U(S(t),"levelCubeTopParent",me,S(t)),U(S(t),"specTopParent",fe,S(t)),U(S(t),"specParent",Ce,S(t)),U(S(t),"selColorGridParent",Pe,S(t)),U(S(t),"cubePrefab",ge,S(t)),U(S(t),"roundCubePrefab",be,S(t)),U(S(t),"selColorGridPrefab",Ie,S(t)),U(S(t),"levelItemGridPrefab",Te,S(t)),U(S(t),"colorSelNode",Le,S(t)),U(S(t),"mainUI",Ue,S(t)),U(S(t),"resultUI",Se,S(t)),U(S(t),"settingUI",ye,S(t)),U(S(t),"levelsUI",De,S(t)),U(S(t),"shareUI",ze,S(t)),U(S(t),"specTopLightNode",we,S(t)),U(S(t),"oppoNativeAd",Ne,S(t)),U(S(t),"oppoNativeAd2",Oe,S(t)),U(S(t),"debugLabel",Ge,S(t)),I(S(t),"gameTimeTick",0),I(S(t),"lastPaintEffectTimeTick",0),I(S(t),"gameData",new y),I(S(t),"starsData",new R),I(S(t),"levelsCfg",[]),I(S(t),"specLevelsCfg",[]),I(S(t),"curLevelColors",[]),I(S(t),"colorSelIdx",0),I(S(t),"curLevelScore",0),I(S(t),"curLevelData",null),I(S(t),"specTempData",null),I(S(t),"isSpecLevel",!1),I(S(t),"curRecommendId",-1),I(S(t),"normalLevelGameTimes",0),I(S(t),"canGameOper",!1),I(S(t),"hinted",!1),I(S(t),"hintTimes",0),I(S(t),"displayHint",!1),I(S(t),"recordStartTime",0),I(S(t),"recordTime",0),I(S(t),"isStartRecord",!1),t}L(t,e);var i=t.prototype;return i.onLoad=function(){t.instance=this,this.mainUI.hideGameUI()},i.onDestroy=function(){this.removeEvent()},i.onEnable=function(){},i.onDisable=function(){},i.onHide=function(){D.onHide()},i.onShow=function(){D.onShow()},i.startRecord=function(){V.currentPlatform===k.TT&&(this.isStartRecord||(V.startRecord(),this.isStartRecord=!0,this.recordStartTime=Date.now()))},i.stopRecord=function(){V.currentPlatform===k.TT&&(!1===this.isStartRecord?this.recordTime=0:(this.recordTime=Date.now()-this.recordStartTime,this.isStartRecord=!1,V.stopRecord()),console.log("** recordTime="+this.recordTime))},i.showOppoNativeAd=function(){V.currentPlatform!==k.OPPO&&V.currentPlatform!==k.VIVO||null!==this.oppoNativeAd&&this.oppoNativeAd.show()},i.showOppoNativeAd2=function(){V.currentPlatform!==k.OPPO&&V.currentPlatform!==k.VIVO||null!==this.oppoNativeAd2&&this.oppoNativeAd2.show()},i.start=function(){this.addEvent(),this.loadGame(),V.currentPlatform===k.WECHAT&&V.createBannerAd(),V.currentPlatform!==k.OPPO&&V.currentPlatform!==k.VIVO||(V.createOppoNative1Ad(),this.scheduleOnce((function(){V.createOppoNative2Ad()}),1.5)),V.currentPlatform===k.OPPO?(V.createGamePortalAd(),this.mainUI.moreGameBtnNode.active=!0):this.mainUI.moreGameBtnNode.active=!1,V.currentPlatform===k.VIVO&&(this.mainUI.moreGameBtnNode.active=!1,V.showVivoPortalAd()),V.currentPlatform===k.OPPO&&qg.hasShortcutInstalled({success:function(e){console.log("** 判断快捷方式="+e),e?(console.log("** 隐藏BTN"),t.instance.mainUI.shortcutBtnNode.active=!1):(console.log("** 显示BTN"),t.instance.mainUI.shortcutBtnNode.active=!0)},fail:function(e){},complete:function(){}}),V.currentPlatform===k.VIVO&&qg.hasShortcutInstalled({success:function(e){e?(console.log("已创建"),t.instance.mainUI.shortcutBtnNode.active=!1):(console.log("未创建"),t.instance.mainUI.shortcutBtnNode.active=!0)}})},i.loadGame=function(){this.loadLevels()},i.onLevelsCfgLoaded=function(){this.gameData.load(),this.starsData.load(),D.sndOn=this.gameData.isSndOn(),D.sndOn&&D.playBgm(),this.prepareToStart()},i.clearCurLevelColors=function(){this.curLevelColors.splice(0,this.curLevelColors.length)},i.loadLevels=function(){var e=this;c.loadRes("levels/levels",(function(i,l){if(i)console.log("load res error="+i);else{for(var a=JSON.parse(l.text),n=0;n<a.puzzles.length;n++){var o=new N;o.id=a.puzzles[n].id,o.levelId=n,o.name=a.puzzles[n].name,o.fold=a.puzzles[n].fold,o.isSpec=!1,o.colors.r=255*a.puzzles[n].colors.r,o.colors.g=255*a.puzzles[n].colors.g,o.colors.b=255*a.puzzles[n].colors.b,o.colors.a=255*a.puzzles[n].colors.a,o.width=a.puzzles[n].size.x,o.height=a.puzzles[n].size.y;for(var s=0;s<a.puzzles[n].stage.length;s++){var c=a.puzzles[n].stage[s].split("#"),h=parseInt(c[0]),u=parseInt(c[1],16),p=new r(u>>16,u>>8&255,255&u,255);o.stageColors.push({flag:h,color:p}),1===h&&o.addSelColor(p)}if(o.spaceColorToLast(),e.levelsCfg.push(o),e.levelsCfg.length>=t.MaxLevelCnt)break}for(var v=0;v<a.specialPuzzles.length;v++){var d=new N;d.id=a.specialPuzzles[v].id,d.levelId=v,d.name=a.specialPuzzles[v].name,d.fold=a.specialPuzzles[v].fold,d.isSpec=!0,d.colors.r=255*a.specialPuzzles[v].colors.r,d.colors.g=255*a.specialPuzzles[v].colors.g,d.colors.b=255*a.specialPuzzles[v].colors.b,d.colors.a=255*a.specialPuzzles[v].colors.a,d.width=a.specialPuzzles[v].size.x,d.height=a.specialPuzzles[v].size.y,console.log("** spec i="+v+" w="+d.width+" h="+d.height);for(var m=0;m<a.specialPuzzles[v].stage.length;m++){var f=a.specialPuzzles[v].stage[m].split("#"),C=parseInt(f[0]),P=parseInt(f[1],16),g=new r(P>>16,P>>8&255,255&P,255);d.stageColors.push({flag:C,color:g}),1===C&&d.addSelColor(g)}d.spaceColorToLast(),e.specLevelsCfg.push(d)}e.onLevelsCfgLoaded()}}))},i.addEvent=function(){h.on(u.EventType.TOUCH_START,this.onTouchStart,this),h.on(u.EventType.TOUCH_MOVE,this.onTouchMove,this),h.on(u.EventType.TOUCH_END,this.onTouchEnd,this),h.on(u.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},i.removeEvent=function(){h.off(u.EventType.TOUCH_START,this.onTouchStart,this),h.off(u.EventType.TOUCH_MOVE,this.onTouchMove,this),h.off(u.EventType.TOUCH_END,this.onTouchEnd,this),h.off(u.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},i.onTouchStart=function(e){if(!1!==this.canGameOper){var t=e.getLocationX(),i=e.getLocationY(),l=null;if(l=!1===this.isSpecLevel?this.camera.screenPointToRay(t,i):this.specCam.screenPointToRay(t,i),!0===p.instance.raycastClosest(l)){var a=p.instance.raycastClosestResult;if(null!==a){var n=a.collider.node.getComponent("PaintCube");null!==n&&1===n.flag&&(this.gameTimeTick-this.lastPaintEffectTimeTick>.1&&(this.lastPaintEffectTimeTick=this.gameTimeTick,D.playClip(z.CubeClick),V.vibrateShort()),n.setColor(this.curLevelData.selColors[this.colorSelIdx],!0))}}this.startRecord()}},i.onTouchMove=function(e){if(!1!==this.canGameOper){var t=e.getLocationX(),i=e.getLocationY(),l=null;if(l=!1===this.isSpecLevel?this.camera.screenPointToRay(t,i):this.specCam.screenPointToRay(t,i),!0===p.instance.raycastClosest(l)){var a=p.instance.raycastClosestResult;if(null!==a){var n=a.collider.node.getComponent("PaintCube");null!==n&&1===n.flag&&(this.gameTimeTick-this.lastPaintEffectTimeTick>.1&&(this.lastPaintEffectTimeTick=this.gameTimeTick,D.playClip(z.CubeClick),V.vibrateShort()),n.setColor(this.curLevelData.selColors[this.colorSelIdx],!0))}}}},i.hint=function(){if(!1===this.isSpecLevel){for(var e=0;e<this.levelCubeParent.children.length;e++){var t=this.levelCubeParent.children[e].getComponent("PaintCube");1===t.flag&&t.isTargetColorEquals(this.curLevelData.selColors[this.hintTimes])&&t.autoFill()}this.hintTimes++,this.hintTimes>=this.curLevelData.selColors.length&&(this.hintTimes=0,this.mainUI.hintBtnNode.active=!1),3===this.calcScore()&&(this.hintTimes=0,this.mainUI.hintBtnNode.active=!1)}else{for(var i=0;i<this.specParent.children.length;i++){var l=this.specParent.children[i].getComponent("PaintCube");1===l.flag&&l.isTargetColorEquals(this.curLevelData.selColors[this.hintTimes])&&l.autoFill()}this.hintTimes++,this.hintTimes>=this.curLevelData.selColors.length&&(this.hintTimes=0,this.mainUI.hintBtnNode.active=!1),3===this.calcScore()&&(this.hintTimes=0,this.mainUI.hintBtnNode.active=!1)}},i.onTouchEnd=function(e){},i.onTouchCancel=function(e){},i.clearColorSelObjs=function(){this.selColorGridParent.destroyAllChildren(),this.selColorGridParent.removeAllChildren(!0)},i.prepareToStart=function(){this.levelsUI.init(),this.loadNewLevel(),this.levelsUI.showOutBounds(),this.mainUI.updateLevelLabel()},i.clearLevel=function(){this.levelCubeParent.destroyAllChildren(),this.levelCubeParent.removeAllChildren(!0),this.levelCubeTopParent.destroyAllChildren(),this.levelCubeTopParent.removeAllChildren(!0)},i.clearSpecLevel=function(){this.specParent.destroyAllChildren(),this.specParent.removeAllChildren(!0),this.specTopParent.destroyAllChildren(),this.specTopParent.removeAllChildren(!0)},i.loadSpecLevel=function(e){var i=this;void 0===e&&(e=-1),this.clearLevel(),this.clearSpecLevel(),this.camera.node.active=!1,this.specCam.node.active=!0;var l=this.curRecommendId;-1!==e&&(l=e),this.specTempData=this.specLevelsCfg[l];for(var a=-.5*(this.specTempData.width-1),n=.5*(this.specTempData.height-1),o=0;o<this.specTempData.height;o++)for(var s=0;s<this.specTempData.width;s++){var r=o*this.specTempData.width+s,c=this.specTempData.stageColors[r];if(c.flag>0){var h=v(this.roundCubePrefab);this.specParent.addChild(h),h.setPosition(a+s,n-o,0),h.setScale(.9,.9,.9);var u=h.getComponent(d),p=h.addComponent("PaintCube");2===c.flag?(u.material.setProperty("mainColor",c.color),p.idx=r,p.flag=2,(u=h.children[0].getComponent(d)).material.setProperty("mainColor",c.color)):1===c.flag&&(p.flag=1,p.idx=r,p.setColor(t.spaceColor),p.setTargetColor(c.color));var C=v(this.cubePrefab);this.specTopParent.addChild(C),C.setPosition(a+s,n-o,0),C.setScale(.95,.95,.95),(u=C.getComponent(d)).material.setProperty("mainColor",c.color)}}var P=this.specTempData.width;this.specTempData.height>P&&(P=this.specTempData.height);var g=7/P,b=2.5/P;this.specTopParent.setRotation(0,0,0,0),this.specTopParent.setScale(b,b,b),this.specTopParent.setPosition(0,t.specTopYPos,-30),this.specParent.setScale(g,g,g),this.specParent.setPosition(0,.7,t.specDefaultZPos),this.specParent.parent.setPosition(12,0,0),-1===e?m(this.specParent.parent).to(.4,{position:f(0,0,0)}).call((function(){V.currentPlatform!==k.VIVO&&V.currentPlatform!==k.WECHAT||V.createInsertAd(),i.specTopLightNode.active=!0,i.mainUI.specLevelUnlockTipNode.active=!0,i.scheduleOnce((function(){i.mainUI.specPlayBtnNode.active=!0,i.mainUI.specGiveupBtnNode.active=!0}),.25)})).start():this.specLevelMoveIn()},i.loadNewLevel=function(e){var i=this;void 0===e&&(e=-1),this.clearLevel(),this.clearSpecLevel();var l=this.gameData.curLevelId;-1!==e&&(l=e),this.curLevelData=this.levelsCfg[l];for(var a=-.5*(this.curLevelData.width-1),n=.5*(this.curLevelData.height-1),o=0;o<this.curLevelData.height;o++)for(var s=0;s<this.curLevelData.width;s++){var r=o*this.curLevelData.width+s,c=this.curLevelData.stageColors[r];if(c.flag>0){var h=v(this.cubePrefab);this.levelCubeParent.addChild(h),h.setPosition(a+s,n-o,0),h.setScale(.98,.98,.98);var u=h.getComponent(d),p=h.addComponent("PaintCube");2===c.flag?(u.material.setProperty("mainColor",c.color),p.idx=r,p.flag=2):1===c.flag&&(p.flag=1,p.idx=r,p.setColor(t.spaceColor),p.setTargetColor(c.color));var P=v(this.cubePrefab);this.levelCubeTopParent.addChild(P),P.setPosition(a+s,n-o,0),P.setScale(.95,.95,.95),(u=P.getComponent(d)).material.setProperty("mainColor",c.color)}}this.clearColorSelObjs(),a=-.5*(this.curLevelData.selColors.length-1)*(t.selGridWidth+t.selGridInterval);for(var g=0;g<this.curLevelData.selColors.length;g++){var b=v(this.selColorGridPrefab);this.selColorGridParent.addChild(b),b.setPosition(a+g*t.selGridWidth+g*t.selGridInterval,0,0),b.children[1].getComponent(C).color=this.curLevelData.selColors[g],b.getComponent(O).idx=g}this.colorSelIdx=0,this.colorSelNode.setPosition(a,t.selNodeYPos,0),this.levelCubeTopParent.setScale(.2,.2,.2),this.levelCubeTopParent.setPosition(0,6,-50),this.levelCubeParent.setScale(.7,.7,.7),this.levelCubeParent.setPosition(0,.7,-50),this.levelCubeParent.parent.setPosition(12,0,0),m(this.levelCubeParent.parent).to(.4,{position:f(0,0,0)}).call((function(){i.scheduleOnce((function(){i.canGameOper=!0,i.mainUI.showGameUI()}),.25)})).start()},i.reloadCurLevel=function(){var e=this;this.hintTimes=0,m(this.levelCubeParent.parent).to(.3,{position:f(-12,0,0)}).call((function(){})).start(),this.resultUI.moveOut((function(){if(e.resetCurLevel(),e.mainUI.levelsBtnNode.active=!0,e.mainUI.settingBtnNode.active=!0,!1===e.isSpecLevel){e.levelCubeTopParent.setScale(.2,.2,.2),e.levelCubeTopParent.setPosition(0,6,-50),e.levelCubeParent.setScale(.7,.7,.7),e.levelCubeParent.setPosition(0,.7,-50),e.levelCubeParent.parent.setPosition(12,0,0);for(var i=0;i<e.levelCubeTopParent.children.length;i++)e.levelCubeTopParent.children[i].setScale(.95,.95,.95);for(var l=0;l<e.levelCubeParent.children.length;l++)e.levelCubeParent.children[l].setScale(.98,.98,.98)}else{var a=e.curLevelData.width;e.curLevelData.height>a&&(a=e.curLevelData.height);var n=2.5/a,o=7/a;e.specTopParent.setRotation(0,0,0,0),e.specTopParent.setScale(n,n,n),e.specTopParent.setPosition(0,t.specTopYPosInGame,-30),e.specParent.setScale(o,o,o),e.specParent.setPosition(0,.7,t.specDefaultZPos),e.specParent.parent.setPosition(12,0,0);for(var s=0;s<e.specTopParent.children.length;s++)e.specTopParent.children[s].setScale(.95,.95,.95);for(var r=0;r<e.specParent.children.length;r++){e.specParent.children[r].setScale(.9,.9,.9),e.specParent.children[r].getComponent("SpecCube").setRoundCube()}}m(e.levelCubeParent.parent).to(.4,{position:f(0,0,0)}).call((function(){e.scheduleOnce((function(){e.canGameOper=!0,e.mainUI.showGameUI()}),.25)})).start()}))},i.startNextLevel=function(){var e=this;if(this.hintTimes=0,m(this.levelCubeParent.parent).to(.3,{position:f(-12,0,0)}).call((function(){})).start(),!1===this.curLevelData.isSpec&&this.normalLevelGameTimes++,this.normalLevelGameTimes%3==0&&!1===this.isSpecLevel&&!1===this.starsData.isSpecAllUnlock()){var i=this.gameData.getRecommendId();this.curRecommendId=i,this.gameData.nextRecommend(),this.resultUI.moveOut((function(){e.mainUI.levelLabel.node.active=!0,e.mainUI.levelLabel.string="CHL "+(e.curRecommendId+1),e.mainUI.levelLabel.color=t.specLevelLabelColor,e.scheduleOnce((function(){e.loadSpecLevel()}),.25)}))}else this.isSpecLevel=!1,this.gameData.nextLevel(),this.starsData.setData(this.gameData.curLevelId,0),this.levelsUI.updateCurItemDisplay(),this.resultUI.moveOut((function(){e.camera.node.active=!0,e.specCam.node.active=!1,e.mainUI.updateLevelLabel(),e.mainUI.levelLabel.node.active=!0,e.mainUI.levelsBtnNode.active=!0,e.mainUI.settingBtnNode.active=!0,e.scheduleOnce((function(){e.loadNewLevel()}),.25)}))},i.enterLevel=function(e){var i=this;console.log("enter level="+e.levelId),this.hintTimes=0,m(this.levelCubeParent.parent).to(.3,{position:f(-12,0,0)}).call((function(){})).start(),e.isSpec?this.resultUI.moveOut((function(){t.instance.gameData.specLevelId=e.levelId,i.mainUI.levelLabel.node.active=!0,i.mainUI.levelLabel.string="CHL "+(e.levelId+1),i.mainUI.levelLabel.color=t.specLevelLabelColor,i.scheduleOnce((function(){i.loadSpecLevel(e.levelId)}),.25)})):(t.instance.gameData.curLevelId=e.levelId,this.isSpecLevel=!1,this.resultUI.moveOut((function(){i.camera.node.active=!0,i.specCam.node.active=!1,i.mainUI.levelLabel.string="LEVEL "+(e.levelId+1)+" ",i.mainUI.levelLabel.node.active=!0,i.mainUI.levelsBtnNode.active=!0,i.mainUI.settingBtnNode.active=!0,i.scheduleOnce((function(){i.loadNewLevel(e.levelId)}),.25)})),this.resultUI.isShow())},i.skipSpecEnterNextLevel=function(){var e=this;this.specTopLightNode.active=!1,m(this.levelCubeParent.parent).to(.3,{position:f(-12,0,0)}).call((function(){e.camera.node.active=!0,e.specCam.node.active=!1,e.gameData.nextLevel(),e.starsData.setData(e.gameData.curLevelId,0),e.levelsUI.updateCurItemDisplay(),e.mainUI.levelLabel.node.active=!0,e.mainUI.updateLevelLabel(),e.mainUI.levelsBtnNode.active=!0,e.mainUI.settingBtnNode.active=!0,e.loadNewLevel()})).start()},i.specLevelMoveIn=function(){var e=this;this.specTopLightNode.active=!1,this.specTopParent.setPosition(0,t.specTopYPosInGame,-30),this.curLevelData=this.specTempData,this.isSpecLevel=!0,this.mainUI.levelsBtnNode.active=!0,this.mainUI.settingBtnNode.active=!0,this.specParent.parent.setPosition(12,0,0),m(this.specParent.parent).to(.4,{position:f(0,0,0)}).call((function(){e.clearColorSelObjs();for(var i=-.5*(e.curLevelData.selColors.length-1)*(t.selGridWidth+t.selGridInterval),l=0;l<e.curLevelData.selColors.length;l++){var a=v(e.selColorGridPrefab);e.selColorGridParent.addChild(a),a.setPosition(i+l*t.selGridWidth+l*t.selGridInterval,0,0),a.children[1].getComponent(C).color=e.curLevelData.selColors[l],a.getComponent(O).idx=l}e.colorSelIdx=0,e.colorSelNode.setPosition(i,t.selNodeYPos,0),e.mainUI.showGameUI(),e.canGameOper=!0})).start()},i.onLevelItemClick=function(e){var t=this;(console.log("** levelClick="+e.name+" color="+e.selColors.length+" w="+e.width+" h="+e.height),!1===e.isSpec)?this.starsData.isUnlocked(e.levelId)?(this.levelsUI.close(),this.mainUI.hideTopUI(),this.mainUI.hideGameUI(),this.enterLevel(e)):(V.currentPlatform===k.VIVO&&D.isBgmPlaying()&&D.stopBgm(),V.playVideoAd((function(){t.starsData.setData(e.levelId,0),t.levelsUI.close(),t.levelsUI.updateItemDisplay(e.levelId),t.mainUI.hideTopUI(),t.mainUI.hideGameUI(),t.enterLevel(e)}),(function(){V.currentPlatform===k.VIVO&&D.sndOn&&D.playBgm()}))):this.starsData.isUnlocked(200+e.levelId)?(this.levelsUI.close(),this.mainUI.hideTopUI(),this.mainUI.hideGameUI(),this.enterLevel(e)):(V.currentPlatform===k.VIVO&&D.isBgmPlaying()&&D.stopBgm(),V.playVideoAd((function(){t.starsData.setData(200+e.levelId,0),t.levelsUI.close(),t.levelsUI.updateSpecItemDisplay(e.levelId),t.mainUI.hideTopUI(),t.mainUI.hideGameUI(),t.enterLevel(e)}),(function(){V.currentPlatform===k.VIVO&&D.sndOn&&D.playBgm()})))},i.selColor=function(e){if(e!==this.colorSelIdx){this.colorSelIdx=e;var i=-.5*(this.curLevelData.selColors.length-1)*(t.selGridWidth+t.selGridInterval);i=i+e*t.selGridWidth+e*t.selGridInterval,m(this.colorSelNode).to(.1,{position:f(i,t.selNodeYPos,0)}).call((function(){})).start()}},i.startSettle=function(){var e=this;if(this.canGameOper=!1,this.curLevelScore=this.calcScore(),!1===this.isSpecLevel){for(var t=0;t<this.levelCubeTopParent.children.length;t++)this.levelCubeTopParent.children[t].setScale(1,1,1);for(var i=0;i<this.levelCubeParent.children.length;i++)this.levelCubeParent.children[i].setScale(1,1,1);var l=this.curLevelData.width;this.curLevelData.height>l&&(l=this.curLevelData.height);var a=4/l;m(this.levelCubeParent).to(.3,{position:f(2.35,.7,-50)}).call((function(){})).start(),m(this.levelCubeParent).to(.3,{scale:f(a,a,a)}).call((function(){})).start(),m(this.levelCubeTopParent).to(.3,{position:f(-2.35,.7,-50)}).call((function(){})).start(),m(this.levelCubeTopParent).to(.3,{scale:f(a,a,a)}).call((function(){})).start()}else{var n=5/this.curLevelData.width;m(this.specParent).to(.3,{position:f(2.85,.7,-30)}).call((function(){})).start(),m(this.specParent).to(.3,{scale:f(n,n,n)}).call((function(){})).start();var o=P(0,0,0,0);g.fromEuler(o,-35,0,0),this.specTopParent.setRotation(o);for(var s=0;s<this.specTopParent.children.length;s++)this.specTopParent.children[s].setScale(1,1,1);for(var r=0;r<this.specParent.children.length;r++){this.specParent.children[r].setScale(1,1,1),this.specParent.children[r].getComponent("SpecCube").setRectCube()}m(this.specTopParent).to(.3,{position:f(-2.85,.7,-30)}).call((function(){})).start(),m(this.specTopParent).to(.3,{scale:f(n,n,n)}).call((function(){})).start()}this.scheduleOnce((function(){e.resultUI.show(e.curLevelScore)}),.45)},i.resetCurLevel=function(){if(this.selColor(0),!1===this.isSpecLevel)for(var e=0;e<this.levelCubeParent.children.length;e++){var i=this.levelCubeParent.children[e].getComponent("PaintCube");1===i.flag&&i.setColor(t.spaceColor)}else for(var l=0;l<this.specParent.children.length;l++){var a=this.specParent.children[l].getComponent("PaintCube");1===a.flag&&a.setColor(t.spaceColor)}},i.skipCurLevel=function(){this.mainUI.hideTopUI(),this.mainUI.hideGameUI(),this.startNextLevel()},i.calcScore=function(){var e=0,t=0;if(!1===this.isSpecLevel)for(var i=0;i<this.levelCubeParent.children.length;i++){var l=this.levelCubeParent.children[i].getComponent("PaintCube");1===l.flag&&(e++,l.isColorRight()&&t++)}else for(var a=0;a<this.specParent.children.length;a++){var n=this.specParent.children[a].getComponent("PaintCube");1===n.flag&&(e++,n.isColorRight()&&t++)}return t===e?3:t/e>=.8?2:t/e>=.4?1:0},i.showColorSelUI=function(){this.selColorGridParent.active=!0,this.colorSelNode.active=!0},i.hideColorSelUI=function(){this.selColorGridParent.active=!1,this.colorSelNode.active=!1},i.update=function(e){var t=this.gameTimeTick;this.gameTimeTick+=e,t<=3&&this.gameTimeTick>3&&this.showOppoNativeAd()},t}(b),I(Ae,"instance",null),I(Ae,"spaceColor",new r(254,254,254)),I(Ae,"blackColor",new r(103,98,98)),I(Ae,"specLevelLabelColor",new r(255,228,88)),I(Ae,"specTopYPos",6.5),I(Ae,"specDefaultZPos",-25),I(Ae,"specTopYPosInGame",7),I(Ae,"selNodeYPos",368),I(Ae,"selGridInterval",20),I(Ae,"selGridWidth",80),I(Ae,"MaxLevelCnt",99),I(Ae,"MaxSpecLevelCnt",14),ue=T((he=Be).prototype,"camera",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=T(he.prototype,"specCam",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=T(he.prototype,"canvas",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=T(he.prototype,"levelCubeParent",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=T(he.prototype,"levelCubeTopParent",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=T(he.prototype,"specTopParent",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=T(he.prototype,"specParent",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pe=T(he.prototype,"selColorGridParent",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=T(he.prototype,"cubePrefab",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=T(he.prototype,"roundCubePrefab",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ie=T(he.prototype,"selColorGridPrefab",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Te=T(he.prototype,"levelItemGridPrefab",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=T(he.prototype,"colorSelNode",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ue=T(he.prototype,"mainUI",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=T(he.prototype,"resultUI",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=T(he.prototype,"settingUI",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=T(he.prototype,"levelsUI",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ze=T(he.prototype,"shareUI",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=T(he.prototype,"specTopLightNode",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=T(he.prototype,"oppoNativeAd",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oe=T(he.prototype,"oppoNativeAd2",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ge=T(he.prototype,"debugLabel",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=he))||ce));t._RF.pop()}}}));

System.register("chunks:///_virtual/LevelListUI.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./GameMain.ts","./Platform.ts"],(function(e){"use strict";var t,n,i,l,o,r,a,s,c,h,d,v,p,u,m,f,g,L;return{setters:[function(e){t=e.cclegacy,n=e._decorator,i=e.Node,l=e.Prefab,o=e.UITransform,r=e.v3,a=e.instantiate,s=e.tween,c=e.Vec3,h=e.Component},function(e){d=e.defineProperty,v=e.applyDecoratedDescriptor,p=e.inheritsLoose,u=e.initializerDefineProperty,m=e.assertThisInitialized},function(e){f=e.GameMain},function(e){g=e.default,L=e.PlatformType}],execute:function(){var b,P,C,y,I,N,w,B,H,T,S,W,V,A,D,z,M,O,R;t._RF.push({},"3ea86+fRstOfIefZfV2RmsG","LevelListUI",void 0);var U=n.ccclass,_=n.property;e("LevelListUI",(b=U("LevelListUI"),P=_({type:i}),C=_({type:i}),y=_({type:i}),I=_({type:i}),N=_({type:i}),w=_({type:i}),B=_({type:l}),b((R=O=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return t=e.call.apply(e,[this].concat(i))||this,u(m(t),"contentNode",S,m(t)),u(m(t),"scrollContentNode",W,m(t)),u(m(t),"normalBtnNode",V,m(t)),u(m(t),"normalLevelsParent",A,m(t)),u(m(t),"specLevelsParent",D,m(t)),u(m(t),"specBtnNode",z,m(t)),u(m(t),"itemPrefab",M,m(t)),d(m(t),"curTabSel",-1),d(m(t),"inited",!1),d(m(t),"normalLevelsContentHeight",0),d(m(t),"specLevelsContentHeight",0),d(m(t),"scrollViewWorldTop",0),d(m(t),"scrollViewWorldBottom",0),t}p(t,e);var n=t.prototype;return n.onLoad=function(){var e=this.scrollContentNode.parent.getComponent(o).convertToWorldSpaceAR(r(0,0,0));this.scrollViewWorldTop=e.y+450,this.scrollViewWorldBottom=e.x-450},n.start=function(){var e=Math.ceil(f.instance.levelsCfg.length/3);this.normalLevelsContentHeight=e*t.itemHeight+(e+1)*t.hInterval,e=Math.ceil(f.instance.specLevelsCfg.length/3),this.specLevelsContentHeight=e*t.itemHeight+(e+1)*t.hInterval,this.tabSel(0)},n.init=function(){for(var e=-(t.itemWidth+t.wInterval),n=-(.5*t.itemHeight+t.hInterval),i=0,l=0,o=0,r=0,s=0;s<f.instance.levelsCfg.length;s++){var c=a(this.itemPrefab);c.getComponent("LevelItem").init(f.instance.levelsCfg[s]),this.normalLevelsParent.addChild(c),i=s%3,l=Math.floor(s/3),o=e+i*(t.itemWidth+t.wInterval),r=n-l*(t.itemHeight+t.hInterval),c.setPosition(o,r,0)}for(var h=0;h<f.instance.specLevelsCfg.length;h++){var d=a(this.itemPrefab);d.getComponent("LevelItem").init(f.instance.specLevelsCfg[h]),this.specLevelsParent.addChild(d),i=h%3,l=Math.floor(h/3),o=e+i*(t.itemWidth+t.wInterval),r=n-l*(t.itemHeight+t.hInterval),d.setPosition(o,r,0)}this.inited=!0},n.show=function(){var e=this;this.node.active=!0,this.node.setPosition(0,0,0),g.isOV()&&f.instance.oppoNativeAd2.hide(),g.currentPlatform!==L.TT&&g.currentPlatform!==L.WECHAT||(g.createBannerAd(),this.scheduleOnce((function(){g.createInsertAd()}),.3)),this.contentNode.setScale(.4,.4,.4),s(this.contentNode).to(.3,{scale:c.ONE},{easing:"backOut"}).call((function(){if(20===e.normalLevelsParent.children.length)for(var n=-(t.itemWidth+t.wInterval),i=-(.5*t.itemHeight+t.hInterval),l=0,o=0,r=0,s=0,c=20;c<f.instance.levelsCfg.length;c++){var h=a(e.itemPrefab);h.getComponent("LevelItem").init(f.instance.levelsCfg[c]),e.normalLevelsParent.addChild(h),l=c%3,o=Math.floor(c/3),r=n+l*(t.itemWidth+t.wInterval),s=i-o*(t.itemHeight+t.hInterval),h.setPosition(r,s,0)}})).start(),g.isOV()&&f.instance.oppoNativeAd.isShowed()&&f.instance.oppoNativeAd.showViewAdBtn()},n.showOutBounds=function(){this.node.active=!0,this.node.setPosition(-2e3,0,0)},n.close=function(){this.node.active=!1,g.isOV()&&f.instance.oppoNativeAd.hideViewAdBtn(),g.currentPlatform===L.TT&&g.destroyBannerAd()},n.updateCurItemDisplay=function(){var e=this.normalLevelsParent.children[f.instance.gameData.curLevelId].getComponent("LevelItem");e.updateDisplay(),(e=this.specLevelsParent.children[f.instance.gameData.specLevelId].getComponent("LevelItem")).updateDisplay()},n.updateItemDisplay=function(e){this.normalLevelsParent.children[e].getComponent("LevelItem").updateDisplay()},n.updateSpecItemDisplay=function(e){this.specLevelsParent.children[e].getComponent("LevelItem").updateDisplay()},n.updateVisible=function(){if(0===this.curTabSel)for(var e=0,n=r(0,0,0),i=0;i<this.normalLevelsParent.children.length;i++)e=(n=this.normalLevelsParent.children[i].getComponent(o).convertToWorldSpaceAR(r(0,0,0))).y+.5*t.itemHeight+10,n.y-.5*t.itemHeight-30>this.scrollViewWorldTop||e<this.scrollViewWorldBottom?this.normalLevelsParent.children[i].active=!1:this.normalLevelsParent.children[i].active=!0},n.tabSel=function(e){this.curTabSel=e,0===this.curTabSel?(this.normalBtnNode.children[0].active=!0,this.normalBtnNode.children[1].active=!1,this.specBtnNode.children[0].active=!1,this.specBtnNode.children[1].active=!0,this.normalLevelsParent.active=!0,this.specLevelsParent.active=!1,this.scrollContentNode.height=this.normalLevelsContentHeight):1===this.curTabSel&&(this.normalBtnNode.children[0].active=!1,this.normalBtnNode.children[1].active=!0,this.specBtnNode.children[0].active=!0,this.specBtnNode.children[1].active=!1,this.normalLevelsParent.active=!1,this.specLevelsParent.active=!0,this.scrollContentNode.height=this.specLevelsContentHeight)},n.onNormalClick=function(){this.tabSel(0)},n.onSpecClick=function(){this.tabSel(1)},n.update=function(e){},t}(h),d(O,"wInterval",15),d(O,"hInterval",30),d(O,"itemWidth",170),d(O,"itemHeight",200),S=v((T=R).prototype,"contentNode",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=v(T.prototype,"scrollContentNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=v(T.prototype,"normalBtnNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=v(T.prototype,"normalLevelsParent",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=v(T.prototype,"specLevelsParent",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=v(T.prototype,"specBtnNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=v(T.prototype,"itemPrefab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=T))||H));t._RF.pop()}}}));

System.register("chunks:///_virtual/Platform.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./Util.ts","./TTRecorder.ts","./GameMain.ts"],(function(o){"use strict";var e,t,n,r,a;return{setters:[function(o){e=o.cclegacy},function(o){t=o.defineProperty},function(o){n=o.default},function(o){r=o.default},function(o){a=o.GameMain}],execute:function(){var d,l;o({AdSceneId:void 0,PlatformType:void 0}),e._RF.push({},"594a3uYpPdPhrDVlXppXJi+","Platform",void 0),function(o){o[o.BROWSER=0]="BROWSER",o[o.Default=0]="Default",o[o.TT=1]="TT",o[o.WECHAT=2]="WECHAT",o[o.VIVO=3]="VIVO",o[o.OPPO=4]="OPPO"}(d||(d=o("PlatformType",{}))),function(o){o[o.Unknown=0]="Unknown",o[o.TrySr=1]="TrySr",o[o.GamePageFormula=2]="GamePageFormula",o[o.ShopUnlock1=3]="ShopUnlock1",o[o.ShopUnlock2=4]="ShopUnlock2",o[o.GetCover=5]="GetCover",o[o.ResultFormula=6]="ResultFormula",o[o.MoreAward=7]="MoreAward",o[o.StarLevelRetry=8]="StarLevelRetry",o[o.EnterOpao=9]="EnterOpao",o[o.EnterSxc=10]="EnterSxc",o[o.Retry=11]="Retry"}(l||(l=o("AdSceneId",{})));var i=o("default",function(){function o(){}return o.decidePlatform=function(){o.currentPlatform=d.Default,cc.sys.platform===cc.sys.WECHAT_GAME?(o.currentPlatform=d.WECHAT,wx.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"]}),wx.onShareAppMessage((function(){var e=n.randRangeNumber(0,o.shareTitles.length-1);return{title:o.shareTitles[e],imageUrlId:o.wxImageId,imageUrl:o.wxImageUrl}})),wx.onShareTimeline((function(){return{title:"我像素画贼6!",imageUrl:""}})),wx.onHide((function(o){})),wx.onShow((function(o){})),o.createVideoAd()):cc.sys.platform===cc.sys.BYTEDANCE_MINI_GAME?(o.currentPlatform=d.TT,tt.showShareMenu(),tt.onShareAppMessage((function(){var e=n.randRangeNumber(0,o.shareTitles.length-1);return{title:o.shareTitles[e],desc:o.shareDesc[e],imageUrl:o.shareImgUrl,success:function(){console.log("**转发成功")},fail:function(){console.log("转发失败")}}})),o.initTTRecorder(),o.createVideoAd()):cc.sys.platform===cc.sys.OPPO_MINI_GAME?(o.currentPlatform=d.OPPO,o.createVideoAd()):cc.sys.platform===cc.sys.VIVO_MINI_GAME&&(o.currentPlatform=d.VIVO)},o.isDouyin=function(){return o.currentPlatform===d.TT&&"Douyin"===tt.getSystemInfoSync().appName},o.isHuoShan=function(){return"live_stream"===tt.getSystemInfoSync().appName},o.isOV=function(){return o.currentPlatform===d.OPPO||o.currentPlatform===d.VIVO},o.initTTRecorder=function(){o.ttRecorder=new r},o.startRecord=function(){null!==o.ttRecorder&&(o.ttRecorder.start(),o.ttRecording=!0)},o.stopRecord=function(e){void 0===e&&(e=null),null!==o.ttRecorder&&(o.ttRecorder.stop(e),o.ttRecording=!1)},o.shareRecord=function(e){if(void 0===e&&(e=null),null!==o.ttRecorder){var t=n.randRangeNumber(0,o.shareTitles.length-1);o.ttRecorder.shareClipAdv(o.shareTitles[t],o.shareDesc[t],e)}},o.vibrateShort=function(e){void 0===e&&(e=!0),"on"!==a.instance.gameData.vibration&&e||(o.currentPlatform===d.TT?tt.vibrateShort():o.currentPlatform===d.WECHAT?wx.vibrateShort():o.currentPlatform===d.OPPO?qg.vibrateShort({}):o.currentPlatform===d.VIVO&&qg.vibrateShort())},o.showToast=function(e,t){void 0===t&&(t=2e3),o.currentPlatform===d.TT?tt.showToast({title:e,duration:t,success:function(o){},fail:function(o){}}):cc.sys.platform===cc.sys.OPPO_MINI_GAME?qg.showToast({title:e,icon:"success",duration:t}):cc.sys.platform===cc.sys.VIVO_MINI_GAME&&qg.showToast({message:e,duration:t})},o.showShortcutBtn=function(){this.shortcutButton&&(cc.log("Platform showShortcutBtn"),this.shortcutButton.show())},o.createShortcutBtn=function(){var o=this;if(cc.log("Platform createShortcutBtn"),cc.sys.platform===cc.sys.VIVO_MINI_GAME){if(!qg.createShortcutButton)return;qg.hasShortcutInstalled({success:function(e){var t,n;0==e&&(t=qg.getSystemInfoSync(),(n=qg.createShortcutButton({type:"image",style:{left:8,top:t.screenHeight/2,width:100,height:100,color:"#f8f8f8"}})).onTap((function(e){console.log(e),n.destroy(),o.shortcutButton=null})),o.shortcutButton=n)},fail:function(o){},complete:function(){}})}},o.hideShortcutBtn=function(){cc.sys.platform===cc.sys.VIVO_MINI_GAME&&this.shortcutButton&&(cc.log("Platform hideShortcutBtn"),this.shortcutButton.hide())},o.addShortcut=function(e){var t=this;cc.log("Platform addShortcut ----"),o.currentPlatform===d.OPPO?qg.hasShortcutInstalled({success:function(o){0==o?qg.installShortcut({success:function(){},fail:function(o){},complete:function(){}}):e&&e()},fail:function(o){},complete:function(){}}):o.currentPlatform===d.VIVO&&qg.hasShortcutInstalled({success:function(o){o?(e&&e(),console.log("已创建")):(console.log("未创建"),qg.installShortcut({success:function(){console.log("创建成功"),t.shortcutButton&&(t.shortcutButton.destroy(),t.shortcutButton=null)}}))}})},o.shareApp=function(){if(o.currentPlatform===d.TT){var e=n.randRangeNumber(0,o.shareTitles.length-1);tt.shareAppMessage({title:o.shareTitles[e],desc:o.shareDesc[e],imageUrl:o.shareImgUrl,success:function(){},fail:function(){}})}else if(o.currentPlatform===d.WECHAT){var t=n.randRangeNumber(0,o.shareTitles.length-1);wx.shareAppMessage({title:o.shareTitles[t],imageUrlId:o.wxImageId,imageUrl:o.wxImageUrl})}},o.login=function(){o.currentPlatform===d.TT&&tt.login({success:function(o){},fail:function(o){}})},o.createVideoAd=function(){o.currentPlatform===d.TT?(o.videoAd=tt.createRewardedVideoAd({adUnitId:o.ttVideoAdKey}),null!==o.videoAd&&void 0!==this.videoAd&&(o.videoAd.onClose((function(e){e.isEnded?(console.log("**广告看完奖励"),null!==o.ttVideoAdCallback&&o.ttVideoAdCallback()):(console.log("广告没看完"),null!==o.ttVideoAdCloseCallback&&o.ttVideoAdCloseCallback())})),o.videoAd.onError((function(e){console.log("VideoAd Error code="+e.errCode+" errMsg="+e.errMsg),null!==o.ttVideoAdErrorCallback&&o.ttVideoAdErrorCallback()})))):o.currentPlatform===d.WECHAT?(o.videoAd=wx.createRewardedVideoAd({adUnitId:o.wxVideoAdKey}),null!==o.videoAd&&void 0!==this.videoAd&&(o.videoAd.onClose((function(e){e.isEnded?(console.log("**广告看完奖励"),null!==o.ttVideoAdCallback&&o.ttVideoAdCallback()):console.log("广告没看完")})),o.videoAd.onError((function(o){console.log("VideoAd Error code="+o.errCode+" errMsg="+o.errMsg)})))):o.currentPlatform===d.OPPO?(o.videoAd=qg.createRewardedVideoAd({adUnitId:o.oppoVideoAdKey}),null!==o.videoAd&&void 0!==o.videoAd&&(o.videoAd.onClose((function(e){e.isEnded?(console.log("**广告看完奖励"),null!==o.ttVideoAdCallback&&o.ttVideoAdCallback()):null!==o.ttVideoAdCloseCallback&&o.ttVideoAdCloseCallback()})),o.videoAd.onLoad((function(){o.videoAd.show()})),o.videoAd.onError((function(o){console.log("VideoAd Error code oppo="+o.errCode+" errMsg="+o.errMsg),qg.showToast({title:"请稍后再试。",icon:"loading",duration:2e3})})))):o.currentPlatform===d.VIVO&&(o.videoAd=qg.createRewardedVideoAd({posId:o.vivoVideoAdKey}),null!==o.videoAd&&void 0!==o.videoAd&&(o.videoAd.onClose((function(e){e.isEnded?(console.log("**广告看完奖励"),null!==o.ttVideoAdCallback&&o.ttVideoAdCallback()):console.log("广告没看完")})),o.videoAd.onError((function(o){console.log("VideoAd Error code oppo="+o.errCode+" errMsg="+o.errMsg)}))))},o.playVideoAd=function(e,t,n){void 0===e&&(e=null),void 0===t&&(t=null),void 0===n&&(n=null),o.currentPlatform===d.TT?(null!==o.videoAd&&void 0!==o.videoAd||(o.videoAd=tt.createRewardedVideoAd({adUnitId:o.ttVideoAdKey})),o.ttVideoAdCallback=e,o.ttVideoAdCloseCallback=t,o.ttVideoAdErrorCallback=n,o.videoAd.show().then((function(){console.log("广告显示成功")})).catch((function(e){console.log("广告组件出现问题",e),o.videoAd.load().then((function(){console.log("手动加载成功并播放"),o.videoAd.show()}))}))):o.currentPlatform===d.WECHAT?(null!==o.videoAd&&void 0!==o.videoAd||(o.videoAd=wx.createRewardedVideoAd({adUnitId:o.wxVideoAdKey})),o.ttVideoAdCallback=e,this.videoAd.show().then((function(){console.log("广告显示成功")})).catch((function(e){console.log("广告组件出现问题",e),o.videoAd.load().then((function(){console.log("手动加载成功并播放")}))}))):o.currentPlatform===d.OPPO?(null!==o.videoAd&&void 0!==o.videoAd||(o.videoAd=qg.createRewardedVideoAd({adUnitId:o.oppoVideoAdKey})),o.ttVideoAdCallback=e,o.ttVideoAdCloseCallback=t,o.ttVideoAdErrorCallback=n,o.videoAd.load()):o.currentPlatform===d.VIVO?(o.ttVideoAdCallback=e,o.ttVideoAdCloseCallback=t,o.ttVideoAdErrorCallback=n,null===o.videoAd||void 0===o.videoAd?(o.videoAd=qg.createRewardedVideoAd({posId:o.vivoVideoAdKey}),o.videoAd.onLoad((function(e){o.videoAd.show()})),o.videoAd.onError((function(o){})),o.videoAd.onClose((function(e){e.isEnded?(console.log("**广告看完奖励"),null!==o.ttVideoAdCallback&&o.ttVideoAdCallback()):(console.log("*** vivo广告没看完2"),null!==o.ttVideoAdCloseCallback&&o.ttVideoAdCloseCallback())}))):o.videoAd.load()):o.currentPlatform===d.Default&&e()},o.showInsertAd=function(){if(o.currentPlatform===d.TT){if(null===o.insertAd)return void o.createInsertAd();!0===o.ttInsertLoaded?o.insertAd.show():o.insertAd.load()}},o.createInsertAd=function(){o.currentPlatform===d.TT?(null!==o.insertAd&&(o.insertAd.destroy(),o.insertAd=null),o.insertAd=tt.createInterstitialAd({adUnitId:o.ttInsertAdKey}),o.insertAd.load().then((function(){o.insertAd.show()})).catch((function(o){console.log(o)}))):o.currentPlatform===d.WECHAT?(o.insertAd=wx.createInterstitialAd({adUnitId:o.wxInsertAdKey}),o.insertAd&&o.insertAd.show()):o.currentPlatform===d.VIVO&&(o.insertAd=qg.createInterstitialAd({posId:o.vivoInsertAdKey}),o.insertAd.show())},o.destroyInsertAd=function(){o.currentPlatform===d.TT&&null!==o.insertAd&&(o.insertAd.destroy(),o.insertAd=null)},o.createBannerAd=function(){if(o.currentPlatform===d.TT){if(o.isHuoShan())return;null!==o.bannerAd&&(o.bannerAd.destroy(),o.bannerAd=null);var e=tt.getSystemInfoSync();o.bannerAd=tt.createBannerAd({adUnitId:o.ttBannerAdKey,style:{width:200,top:e.windowHeight-112.5}}),o.bannerAd.style.left=.5*(e.windowWidth-200),o.bannerAd.onLoad((function(){o.bannerAd.show()})),o.bannerAd.onResize((function(t){console.log("** BannerResize w="+t.width+" h="+t.height),o.bannerAd.style.top=e.windowHeight-t.height,o.bannerAd.style.left=(e.windowWidth-t.width)/2}))}else if(o.currentPlatform===d.WECHAT){null!==o.bannerAd&&(o.bannerAd.destroy(),o.bannerAd=null);var t=200,n=wx.getSystemInfoSync();o.bannerAd=wx.createBannerAd({adUnitId:o.wxBannerAdKey,style:{width:t,left:.5*(n.windowWidth-t),top:n.windowHeight-112.5}}),o.bannerAd.style.left=.5*(n.windowWidth-t),o.bannerAd.show(),o.bannerAd.onResize((function(e){console.log(e.width,e.height),o.bannerAd.style.top=n.windowHeight-e.height,o.bannerAd.style.left=(n.windowWidth-e.width)/2})),o.bannerAd.show()}else o.currentPlatform===d.OPPO?(null!==o.bannerAd&&(o.bannerAd.destroy(),o.bannerAd=null),console.log("** OPPO create Banner"),o.bannerAd=qg.createBannerAd({adUnitId:o.oppoBannerAdKey}),o.bannerAd.onLoad((function(){console.log("**** OPPO Banner onLoad")})),o.bannerAd.onError((function(o){console.log("**** OPPO Banner Error-205294-center="+o);var e=null;for(e in o)console.log("*** key="+e+" val="+o[e])})),o.bannerAd.show()):o.currentPlatform===d.VIVO&&(null!==o.bannerAd&&(o.bannerAd.destroy(),o.bannerAd=null),o.bannerAd=qg.createBannerAd({posId:o.vivoBannerAdKey}),o.bannerAd.onLoad((function(){console.log("**** vivo Banner onLoad")})),o.bannerAd.onError((function(o){})),o.bannerAd.show())},o.hideBannerAd=function(){o.currentPlatform===d.TT||o.currentPlatform===d.WECHAT||o.currentPlatform===d.OPPO?null!==o.bannerAd&&o.bannerAd.hide():o.currentPlatform===d.VIVO&&null!==o.bannerAd&&o.bannerAd.hide()},o.showBannerAd=function(){o.currentPlatform===d.TT&&null!==o.bannerAd&&o.bannerAd.show()},o.destroyBannerAd=function(){if(o.currentPlatform===d.TT){if(o.isHuoShan())return;null!==o.bannerAd&&(o.bannerAd.destroy(),o.bannerAd=null)}else o.currentPlatform===d.WECHAT||o.currentPlatform===d.OPPO?null!==o.bannerAd&&(o.bannerAd.destroy(),o.bannerAd=null):o.currentPlatform===d.VIVO&&null!==o.bannerAd&&(o.bannerAd.destroy(),o.bannerAd=null)},o.createOppoNative1Ad=function(){null!==o.oppoNative1Ad&&o.destroyOppoNative1Ad(),o.currentPlatform===d.OPPO?o.oppoNative1Ad=qg.createNativeAd({adUnitId:o.oppoNative1Key}):o.currentPlatform===d.VIVO&&(o.oppoNative1Ad=qg.createNativeAd({posId:o.vivoNative1Key})),o.oppoNative1Ad.onLoad((function(e){console.log("****---- OPPO Native1 onLoad="+JSON.stringify(e)),o.oppoNative1AdId=e.adList[0].adId,o.oppoNative1Loaded=!0,o.oppoNative1AdList=e.adList[0],(o.currentPlatform===d.OPPO||o.currentPlatform===d.VIVO)&&o.oppoNative1Ad.reportAdShow({adId:o.oppoNative1AdId}),cc.loader.load({url:o.oppoNative1AdList.imgUrlList[0],type:"png"},(function(e,t){e&&console.error("**err1="+e),o.oppoNative1ImgTexture=t,null!==o.oppoNative1Com&&o.oppoNative1Com.updateAdImg()})),cc.loader.load({url:o.oppoNative1AdList.logoUrl,type:"png"},(function(e,t){e&&console.error("**err2="+e),o.oppoNative1LogoUrlTexture=t,console.log("** LogoUrl w="+t.width+" h="+t.height),null!==o.oppoNative1Com&&o.oppoNative1Com.updateLogo()}))})),o.oppoNative1Ad.onError((function(e){console.log("**** OPPO Native1 err="+JSON.stringify(e)),o.oppoNative1AdId="",o.oppoNative1Loaded=!1,o.oppoNative1AdList=null})),o.oppoNative1Ad.load()},o.reloadOppoNative1Ad=function(e){console.log("**** OPPO Native1 reloadOppoNative1Ad"),o.oppoNative1Com=e,o.oppoNative1Ad.load()},o.destroyOppoNative1Ad=function(){null!==o.oppoNative1Ad&&o.currentPlatform===d.OPPO&&(o.oppoNative1Ad.destroy(),o.oppoNative1Ad=null,o.oppoNative1Loaded=!1,o.oppoNative1AdId="",o.oppoNative1AdList=null)},o.reportOppoNative1Click=function(){o.oppoNative1Loaded&&""!==o.oppoNative1AdId&&o.oppoNative1Ad.reportAdClick({adId:o.oppoNative1AdId})},o.createOppoNative2Ad=function(){cc.log("Platform createOppoNative2Ad --- start"),null!==o.oppoNative2Ad&&o.destroyOppoNative2Ad(),o.currentPlatform===d.OPPO?(o.oppoNative2Ad=qg.createNativeAd({adUnitId:o.oppoNative2Key}),cc.log("Platform createOppoNative2Ad --- start 1")):o.currentPlatform===d.VIVO&&(o.oppoNative2Ad=qg.createNativeAd({posId:o.vivoNative2Key})),cc.log("Platform createOppoNative2Ad --- start 2"),o.oppoNative2Ad.onLoad((function(e){console.log("**** OPPO Native2 onLoad="+JSON.stringify(e)),o.oppoNative2AdId=e.adList[0].adId,o.oppoNative2Loaded=!0,o.oppoNative2AdList=e.adList[0],(o.currentPlatform===d.OPPO||o.currentPlatform===d.VIVO)&&o.oppoNative2Ad.reportAdShow({adId:o.oppoNative2AdId}),cc.loader.load({url:o.oppoNative2AdList.imgUrlList[0],type:"png"},(function(e,t){e&&console.error("**err3="+e),o.oppoNative2ImgTexture=t,null!==o.oppoNative1Com&&o.oppoNative1Com.updateAdImg()})),cc.loader.load({url:o.oppoNative2AdList.logoUrl,type:"png"},(function(e,t){e&&console.error("**err4="+e),o.oppoNative2LogoUrlTexture=t,console.log("** LogoUrl w="+t.width+" h="+t.height),null!==o.oppoNative1Com&&o.oppoNative1Com.updateLogo()}))})),cc.log("Platform createOppoNative2Ad --- start 3"),o.oppoNative2Ad.onError((function(e){console.log("**** OPPO Native2 err="+JSON.stringify(e)),o.oppoNative2AdId="",o.oppoNative2Loaded=!1,o.oppoNative2AdList=null})),cc.log("Platform createOppoNative2Ad --- start 4"),o.oppoNative2Ad.load(),cc.log("Platform createOppoNative2Ad --- end")},o.destroyOppoNative2Ad=function(){null!==o.oppoNative2Ad&&o.currentPlatform===d.OPPO&&(o.oppoNative2Ad.destroy(),o.oppoNative2Ad=null,o.oppoNative2Loaded=!1,o.oppoNative2AdId="",o.oppoNative2AdList=null)},o.reloadOppoNative2Ad=function(e){o.oppoNative1Com=e,o.oppoNative2Ad.load()},o.reportOppoNative2Click=function(){o.oppoNative2Loaded&&""!==o.oppoNative2AdId&&o.oppoNative2Ad.reportAdClick({adId:o.oppoNative2AdId})},o.createGamePortalAd=function(){null!==o.oppoGamePortalAd&&(o.oppoGamePortalAd.destroy(),o.oppoGamePortalAd=null),qg.getSystemInfoSync().platformVersionCode>=1076?(o.oppoGamePortalAd=qg.createGamePortalAd({adUnitId:o.oppoGamePortalKey}),o.oppoGamePortalAd.onLoad((function(){console.log("** oppoGamePortal loaded"),o.oppoGamePortalLoaded=!0,o.oppoPortalAutoShow&&(o.oppoGamePortalAd.show(),o.oppoPortalAutoShow=!1,o.gamePortalAdShowed=!0,o.destroyBannerAd(),a.instance.oppoNativeAd.isShowed()?(a.instance.oppoNativeAd.hide(),o.showNativeAdAfterPortal=!0,o.showNativeAdAfterPortal2=!1):a.instance.oppoNativeAd2.isShowed()&&(a.instance.oppoNativeAd2.hide(),o.showNativeAdAfterPortal=!1,o.showNativeAdAfterPortal2=!0))})),o.oppoGamePortalAd.onClose((function(){o.oppoGamePortalLoaded=!1,o.gamePortalAdShowed=!1,o.showNativeAdAfterPortal?(o.showNativeAdAfterPortal=!1,a.instance.showOppoNativeAd()):o.showNativeAdAfterPortal2&&(o.showNativeAdAfterPortal2=!1,a.instance.showOppoNativeAd2())})),o.oppoGamePortalAd.onError((function(e){o.oppoPortalAutoShow&&qg.showToast({title:"暂时无广告,请稍后再试。",icon:"success",duration:2e3})}))):console.log("快应用平台版本号低于1076，暂不支持互推盒子相关 API")},o.showGamePortalAd=function(){null!==o.oppoGamePortalAd&&(o.oppoGamePortalLoaded?o.oppoGamePortalAd.show().then((function(){o.gamePortalAdShowed=!0,o.destroyBannerAd(),a.instance.oppoNativeAd.isShowed()?(a.instance.oppoNativeAd.hide(),o.showNativeAdAfterPortal=!0,o.showNativeAdAfterPortal2=!1):a.instance.oppoNativeAd2.isShowed()&&(a.instance.oppoNativeAd2.hide(),o.showNativeAdAfterPortal=!1,o.showNativeAdAfterPortal2=!0),console.log("showGamePortalAd success")})).catch((function(o){console.log("showGamePortalAd fail with:"+o.errCode+","+o.errMsg)})):(o.oppoPortalAutoShow=!0,o.oppoGamePortalAd.load()))},o.showVivoPortalAd=function(){qg.createBoxPortalAd&&(o.vivoPortalAd=qg.createBoxPortalAd({posId:o.vivoPortalKey,image:"",marginTop:750}),o.vivoPortalAd.onError((function(o){})),o.vivoPortalAd.onClose((function(){console.log("close"),o.vivoPortalAd.isDestroyed||o.vivoPortalAd.show()})),o.vivoPortalAd.show().then((function(){})))},o.reportLevelPass=function(e){o.currentPlatform===d.TT&&cc.sys.platform===cc.sys.BYTEDANCE_MINI_GAME&&tt.reportAnalytics("level",{lid:e})},o}());t(i,"currentPlatform",d.Default),t(i,"shareTitles",["像素大师3D","像素大师3D","像素大师3D"]),t(i,"shareDesc",["像素大师3D","像素大师3D","像素大师3D"]),t(i,"shareImgUrl",""),t(i,"ttRecorder",null),t(i,"ttVideoAdKey","23742kgcbl914h2fb0"),t(i,"ttBannerAdKey","qecgd3a657n5if9bdd"),t(i,"ttInsertAdKey","1e9lmd4c0nei1035dr"),t(i,"ttInsertLoaded",!1),t(i,"wxVideoAdKey","adunit-488689c67cc677fd"),t(i,"wxBannerAdKey","adunit-13d036c5aaf79188"),t(i,"wxInsertAdKey","adunit-80c44451e301b810"),t(i,"oppoGamePortalKey","363575"),t(i,"oppoBannerAdKey","360793"),t(i,"oppoVideoAdKey","360797"),t(i,"gamePortalAdShowed",!1),t(i,"showNativeAdAfterPortal",!1),t(i,"showNativeAdAfterPortal2",!1),t(i,"oppoNative1Key","360795"),t(i,"oppoNative2Key","360796"),t(i,"vivoBannerAdKey","13ab2b00fd9f44089c1f15301fef537c"),t(i,"vivoVideoAdKey","4b96a42a292b4b40b7dc801c787f45c7"),t(i,"vivoInsertAdKey","361522ae254944f6ac421c8e8ea2ba1f"),t(i,"vivoNative1Key","81923ef4d4bb4e8ca3cfd067b344d2cb"),t(i,"vivoNative2Key","25d0e84a26704dfe9a1a39eebd5c754c"),t(i,"vivoPortalKey","cfaee253a40a458f9da7112174110ab9"),t(i,"vivoPortalAd",null),t(i,"ttVideoAdCallback",null),t(i,"ttVideoAdCloseCallback",null),t(i,"ttVideoAdErrorCallback",null),t(i,"ttRecording",!1),t(i,"videoAd",null),t(i,"bannerAd",null),t(i,"insertAd",null),t(i,"adSceneId",l.Unknown),t(i,"wxShareFlag",!1),t(i,"wxImageUrl",""),t(i,"wxImageId",""),t(i,"loginUUID",""),t(i,"oppoGamePortalAd",null),t(i,"oppoPortalAutoShow",!1),t(i,"oppoNative1Ad",null),t(i,"oppoNative2Ad",null),t(i,"oppoNative1Com",null),t(i,"oppoNativeBannerAdId",""),t(i,"oppoNative1AdId",""),t(i,"oppoNative2AdId",""),t(i,"oppoNativeBannerAdList",null),t(i,"oppoNative1AdList",null),t(i,"oppoNative2AdList",null),t(i,"oppoNative1ImgTexture",null),t(i,"oppoNative2ImgTexture",null),t(i,"oppoNative1IconUrlTexture",null),t(i,"oppoNative1IconTexture",null),t(i,"oppoNative1LogoUrlTexture",null),t(i,"oppoNative2IconUrlTexture",null),t(i,"oppoNative2IconTexture",null),t(i,"oppoNative2LogoUrlTexture",null),t(i,"oppoGamePortalLoaded",!1),t(i,"oppoNativeBannerLoaded",!1),t(i,"oppoNative1Loaded",!1),t(i,"oppoNative2Loaded",!1),t(i,"oppoShowReportRate",30),t(i,"oppoClickReportRate",60),t(i,"shortcutButton",null),e._RF.pop()}}}));

System.register("chunks:///_virtual/MainUI.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./AudioManager.ts","./GameMain.ts","./Platform.ts"],(function(e){"use strict";var t,n,i,o,a,l,c,r,s,u,p,d,v,f,h,B;return{setters:[function(e){t=e.cclegacy,n=e._decorator,i=e.Node,o=e.Label,a=e.Color,l=e.tween,c=e.v3,r=e.Component},function(e){s=e.applyDecoratedDescriptor,u=e.inheritsLoose,p=e.initializerDefineProperty,d=e.assertThisInitialized},function(e){v=e.AudioManager},function(e){f=e.GameMain},function(e){h=e.default,B=e.PlatformType}],execute:function(){var m,N,y,b,g,I,L,P,U,w,k,C,V,O,z,S,T,G,M,A,D,E,R,_,x,F,H,J,q;t._RF.push({},"62a2dJpEkZJ7aXmaJ6YEaln","MainUI",void 0);var j=n.ccclass,W=n.property;e("MainUI",(m=j("MainUI"),N=W({type:i}),y=W({type:i}),b=W({type:i}),g=W({type:i}),I=W({type:i}),L=W({type:i}),P=W({type:o}),U=W({type:i}),w=W({type:i}),k=W({type:i}),C=W({type:i}),V=W({type:i}),O=W({type:i}),m((T=s((S=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,p(d(t),"levelsBtnNode",T,d(t)),p(d(t),"settingBtnNode",G,d(t)),p(d(t),"resetBtnNode",M,d(t)),p(d(t),"hintBtnNode",A,d(t)),p(d(t),"doneBtnNode",D,d(t)),p(d(t),"skipBtnNode",E,d(t)),p(d(t),"levelLabel",R,d(t)),p(d(t),"specPlayBtnNode",_,d(t)),p(d(t),"specGiveupBtnNode",x,d(t)),p(d(t),"specLevelUnlockTipNode",F,d(t)),p(d(t),"moreGameBtnNode",H,d(t)),p(d(t),"shortcutBtnNode",J,d(t)),p(d(t),"moreLevelBtnNode",q,d(t)),t}u(t,e);var n=t.prototype;return n.start=function(){},n.show=function(){this.node.active=!0},n.close=function(){this.node.active=!1},n.updateLevelLabel=function(){this.levelLabel.node.active=!0,this.levelLabel.string="LEVEL "+(f.instance.gameData.curLevelId+1)+" ",this.levelLabel.color=a.WHITE},n.hideMainUI=function(){this.levelsBtnNode.active=!1,this.moreLevelBtnNode.active=!1,this.settingBtnNode.active=!1,this.resetBtnNode.active=!1,this.hintBtnNode.active=!1,this.skipBtnNode.active=!1,this.doneBtnNode.active=!1,f.instance.hideColorSelUI()},n.showTopUI=function(){this.levelsBtnNode.active=!0,this.settingBtnNode.active=!0,this.moreLevelBtnNode.active=!0,this.resetBtnNode.active=!0},n.hideTopUI=function(){this.levelsBtnNode.active=!1,this.settingBtnNode.active=!1,this.moreLevelBtnNode.active=!1,this.resetBtnNode.active=!1},n.hideGameUI=function(){this.resetBtnNode.active=!1,this.doneBtnNode.active=!1,this.hintBtnNode.active=!1,this.skipBtnNode.active=!1,f.instance.hideColorSelUI()},n.showGameUI=function(){this.resetBtnNode.active=!0,this.moreLevelBtnNode.active=!0,this.doneBtnNode.active=!0,this.hintBtnNode.active=!0,this.skipBtnNode.active=!0,f.instance.showColorSelUI()},n.onSettingClick=function(){f.instance.settingUI.show()},n.onLevelsClick=function(){f.instance.levelsUI.show()},n.onDoneClick=function(){this.hideMainUI(),f.instance.startSettle()},n.onResetClick=function(){f.instance.resultUI.isShow()?(this.hideTopUI(),f.instance.resultUI.nextBtnNode.active=!1,f.instance.reloadCurLevel(),h.isOV()&&(f.instance.oppoNativeAd.show(),f.instance.oppoNativeAd2.hide()),h.currentPlatform===B.TT&&h.destroyBannerAd()):(f.instance.resetCurLevel(),this.hintBtnNode.active=!0),f.instance.hintTimes=0},n.onHintClick=function(){h.currentPlatform===B.VIVO&&v.isBgmPlaying()&&v.stopBgm(),h.playVideoAd((function(){f.instance.hinted=!0,f.instance.hint()}),(function(){h.currentPlatform===B.VIVO&&v.sndOn&&v.playBgm()}))},n.onSkipClick=function(){h.currentPlatform===B.VIVO&&v.isBgmPlaying()&&v.stopBgm(),h.playVideoAd((function(){f.instance.skipCurLevel()}),(function(){h.currentPlatform===B.VIVO&&v.sndOn&&v.playBgm()}))},n.onSpecPlayClick=function(){var e=this;h.currentPlatform===B.VIVO&&v.isBgmPlaying()&&v.stopBgm(),h.playVideoAd((function(){f.instance.starsData.setData(f.instance.curRecommendId+200,0),f.instance.gameData.specLevelId=f.instance.curRecommendId,f.instance.levelsUI.updateCurItemDisplay(),e.specPlayBtnNode.active=!1,e.specGiveupBtnNode.active=!1,e.specLevelUnlockTipNode.active=!1,l(f.instance.specParent.parent).to(.4,{position:c(-12,0,0)}).call((function(){e.levelsBtnNode.active=!1,e.settingBtnNode.active=!1,f.instance.specLevelMoveIn()})).start()}),(function(){h.currentPlatform===B.VIVO&&v.sndOn&&v.playBgm()}))},n.onSpecGiveup=function(){this.specPlayBtnNode.active=!1,this.specGiveupBtnNode.active=!1,this.specLevelUnlockTipNode.active=!1,f.instance.skipSpecEnterNextLevel()},n.onMoreGameClick=function(){h.currentPlatform===B.OPPO&&h.showGamePortalAd()},n.onAddShortcutClick=function(){h.currentPlatform===B.OPPO&&qg.installShortcut({success:function(){f.instance.mainUI.shortcutBtnNode.active=!1},fail:function(e){},complete:function(){}}),h.currentPlatform===B.VIVO&&qg.installShortcut({success:function(){f.instance.mainUI.shortcutBtnNode.active=!1}})},n.moveOut=function(e){void 0===e&&(e=null),l(this.node).to(.3,{position:c(-750,0,0)}).call((function(){null!==e&&e()})).start()},n.onClearForTest=function(){},t}(r)).prototype,"levelsBtnNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=s(S.prototype,"settingBtnNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=s(S.prototype,"resetBtnNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=s(S.prototype,"hintBtnNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=s(S.prototype,"doneBtnNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=s(S.prototype,"skipBtnNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=s(S.prototype,"levelLabel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=s(S.prototype,"specPlayBtnNode",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=s(S.prototype,"specGiveupBtnNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=s(S.prototype,"specLevelUnlockTipNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=s(S.prototype,"moreGameBtnNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=s(S.prototype,"shortcutBtnNode",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=s(S.prototype,"moreLevelBtnNode",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=S))||z));t._RF.pop()}}}));

System.register("chunks:///_virtual/PaintCube.ts",["cc","./_rollupPluginModLoBabelHelpers.js"],(function(t){"use strict";var o,e,n,i,r,s,a,l,c,u;return{setters:[function(t){o=t.cclegacy,e=t._decorator,n=t.MeshRenderer,i=t.tween,r=t.v3,s=t.Color,a=t.Component},function(t){l=t.inheritsLoose,c=t.defineProperty,u=t.assertThisInitialized}],execute:function(){var h;o._RF.push({},"6b40e8UbwZBKY25wk25sdWx","PaintCube",void 0);var C=e.ccclass;e.property,t("PaintCube",C("PaintCube")(h=function(t){function o(){for(var o,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return o=t.call.apply(t,[this].concat(n))||this,c(u(o),"idx",0),c(u(o),"flag",0),c(u(o),"targetColor",new s(0,0,0,0)),c(u(o),"color",new s(0,0,0,0)),c(u(o),"inAnim",!1),o}l(o,t);var e=o.prototype;return e.start=function(){},e.setTargetColor=function(t){this.targetColor=t},e.setColor=function(t,o){var e=this;void 0===o&&(o=!1);var s=this.node.getComponent(n);if(s.material.setProperty("mainColor",t),this.color.set(t),this.node.children.length>0&&(s=this.node.children[0].getComponent(n)).material.setProperty("mainColor",t),o&&this.node.children.length>0&&!1===this.inAnim){this.inAnim=!0;var a=this.node.getPosition();i(this.node).to(.15,{position:r(a.x,a.y,.6)}).to(.15,{position:a}).call((function(){e.inAnim=!1})).start()}},e.isColorRight=function(){return s.equals(this.color,this.targetColor)},e.isTargetColorEquals=function(t){return s.equals(t,this.targetColor)},e.autoFill=function(){this.setColor(this.targetColor)},o}(a))||h);o._RF.pop()}}}));

System.register("chunks:///_virtual/OppoNativeAd.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./Util.ts","./GameMain.ts","./Platform.ts"],(function(t){"use strict";var e,i,o,n,r,a,d,p,s,l,h,u,g,c,m;return{setters:[function(t){e=t.cclegacy,i=t._decorator,o=t.CCInteger,n=t.Sprite,r=t.UITransform,a=t.Component},function(t){d=t.applyDecoratedDescriptor,p=t.inheritsLoose,s=t.initializerDefineProperty,l=t.assertThisInitialized,h=t.defineProperty},function(t){u=t.default},function(t){g=t.GameMain},function(t){c=t.default,m=t.PlatformType}],execute:function(){var v,I,f,N,S,T,A;e._RF.push({},"74288TCiplPOoYiEFILpsEP","OppoNativeAd",void 0);var w=i.ccclass,B=i.property;t("OppoNativeAd",(v=w("OppoNativeAd"),I=B({type:o}),f=B({type:o}),v((T=d((S=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return e=t.call.apply(t,[this].concat(o))||this,s(l(e),"targetHeight",T,l(e)),s(l(e),"adId",A,l(e)),h(l(e),"adImgSprite",null),h(l(e),"adImgUITrans",null),h(l(e),"btnNode",null),h(l(e),"btnUITrans",null),h(l(e),"logoSprite",null),h(l(e),"logoSpriteUITrans",null),h(l(e),"timeTick",0),h(l(e),"adScale",1),h(l(e),"viewAdBtnNode",null),e}p(e,t);var i=e.prototype;return i.onLoad=function(){c.currentPlatform===m.OPPO||c.currentPlatform===m.VIVO?(this.adImgSprite=this.node.getChildByName("adImg").getComponent(n),this.adImgUITrans=this.adImgSprite.node.getComponent(r),this.btnNode=this.adImgSprite.node.getChildByName("btn"),this.btnUITrans=this.btnNode.getComponent(r),this.viewAdBtnNode=this.node.getChildByName("btnViewAd"),this.logoSprite=this.adImgSprite.node.getChildByName("topLeft").getChildByName("logo").getComponent(n),this.logoSpriteUITrans=this.logoSprite.node.getComponent(r),this.adScale=this.targetHeight/320,this.node.getComponent(r).height=this.targetHeight):this.node.active=!1},i.start=function(){this.timeTick=0},i.changeBtnHeight=function(t){this.btnUITrans.height=t},i.showViewAdBtn=function(){null!==this.viewAdBtnNode&&(this.viewAdBtnNode.active=!0)},i.hideViewAdBtn=function(){null!==this.viewAdBtnNode&&(this.viewAdBtnNode.active=!1)},i.show=function(){c.destroyBannerAd(),(1!==this.adId||c.oppoNative1Loaded)&&(2!==this.adId||c.oppoNative2Loaded)&&(this.adImgSprite.node.active=!0,2===this.adId&&null!==this.viewAdBtnNode&&(this.viewAdBtnNode.active=!0),this.updateAdImg(),this.updateLogo())},i.updateAdImg=function(){2===this.adId?null!==c.oppoNative2ImgTexture&&(this.adImgSprite.spriteFrame.texture=c.oppoNative2ImgTexture._texture):null!==c.oppoNative1ImgTexture&&(this.adImgSprite.spriteFrame.texture=c.oppoNative1ImgTexture._texture)},i.updateLogo=function(){2===this.adId?null!==c.oppoNative2LogoUrlTexture?(this.logoSprite.spriteFrame.texture=c.oppoNative2LogoUrlTexture._texture,this.logoSpriteUITrans.width=c.oppoNative2LogoUrlTexture.width,this.logoSpriteUITrans.height=c.oppoNative2LogoUrlTexture.height*this.adScale,this.logoSprite.node.active=!0):this.logoSprite.node.active=!1:null!==c.oppoNative1LogoUrlTexture?(this.logoSprite.spriteFrame.texture=c.oppoNative1LogoUrlTexture._texture,this.logoSpriteUITrans.width=c.oppoNative1LogoUrlTexture.width,this.logoSpriteUITrans.height=c.oppoNative1LogoUrlTexture.height*this.adScale,this.logoSprite.node.active=!0):this.logoSprite.node.active=!1},i.isShowed=function(){return this.adImgSprite.node.active},i.hide=function(){this.adImgSprite.node.active=!1,null!==this.viewAdBtnNode&&(this.viewAdBtnNode.active=!1),g.instance.settingUI.hideViewAdBtn()},i.onClick=function(){!1!==this.adImgSprite.node.active&&(2===this.adId?c.reportOppoNative2Click():c.reportOppoNative1Click())},i.onCloseClick=function(){if(20.5-this.timeTick>=2&&c.createBannerAd(),c.currentPlatform===m.OPPO)u.randRangeNumber(0,100)>60&&this.onClick();else if(c.currentPlatform===m.VIVO){u.randRangeNumber(0,100)>=80&&this.onClick()}this.hide()},i.update=function(t){c.currentPlatform!==m.OPPO&&c.currentPlatform!==m.VIVO||(this.timeTick+=t,this.timeTick>=20&&(this.timeTick=0,2===this.adId?c.reloadOppoNative2Ad(this):c.reloadOppoNative1Ad(this)))},e}(a)).prototype,"targetHeight",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 320}}),A=d(S.prototype,"adId",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),N=S))||N));e._RF.pop()}}}));

System.register("chunks:///_virtual/SettingUI.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./AudioManager.ts","./GameMain.ts","./Platform.ts"],(function(e){"use strict";var t,n,i,o,a,s,r,c,d,l,g,h,u,p,v,T;return{setters:[function(e){t=e.cclegacy,n=e._decorator,i=e.Toggle,o=e.tween,a=e.Vec3,s=e.v3,r=e.Component},function(e){c=e.applyDecoratedDescriptor,d=e.inheritsLoose,l=e.initializerDefineProperty,g=e.assertThisInitialized,h=e.defineProperty},function(e){u=e.AudioManager},function(e){p=e.GameMain},function(e){v=e.default,T=e.PlatformType}],execute:function(){var f,b,m,y,A,C,k;t._RF.push({},"96e67DMtNtIWpqHvNEGcuIN","SettingUI",void 0);var w=n.ccclass,V=n.property;e("SettingUI",(f=w("SettingUI"),b=V({type:i}),m=V({type:i}),f((C=c((A=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,l(g(t),"sndToggle",C,g(t)),l(g(t),"vibrateToggle",k,g(t)),h(g(t),"btnViewAdNode",null),t}d(t,e);var n=t.prototype;return n.onLoad=function(){this.btnViewAdNode=this.sndToggle.node.parent.getChildByName("btnViewAd")},n.start=function(){},n.show=function(){this.node.active=!0,v.currentPlatform!==T.TT&&v.currentPlatform!==T.WECHAT||(v.createBannerAd(),this.scheduleOnce((function(){v.createInsertAd()}),.3)),this.sndToggle.isChecked=p.instance.gameData.isSndOn(),this.vibrateToggle.isChecked=p.instance.gameData.isVibrationOn(),this.updateToggles(),this.sndToggle.node.parent.setScale(.4,.4,.4),v.isOV()&&(p.instance.oppoNativeAd.isShowed()?this.btnViewAdNode.active=!0:this.btnViewAdNode.active=!1),o(this.sndToggle.node.parent).to(.3,{scale:a.ONE},{easing:"backOut"}).start()},n.hideViewAdBtn=function(){null!==this.btnViewAdNode&&(this.btnViewAdNode.active=!1)},n.close=function(){var e=this;o(this.sndToggle.node.parent).to(.15,{scale:s(.3,.3,.3)}).call((function(){e.node.active=!1})).start(),v.currentPlatform===T.TT&&v.destroyBannerAd()},n.updateToggles=function(){this.sndToggle.isChecked?this.sndToggle.node.children[0].active=!1:this.sndToggle.node.children[0].active=!0,this.vibrateToggle.isChecked?this.vibrateToggle.node.children[0].active=!1:this.vibrateToggle.node.children[0].active=!0},n.onSndCheck=function(){this.sndToggle.isChecked?this.sndToggle.node.children[0].active=!1:this.sndToggle.node.children[0].active=!0,p.instance.gameData.updateSnd(this.sndToggle.isChecked),u.sndOn=p.instance.gameData.isSndOn(),u.sndOn?u.playBgm():u.stopBgm()},n.onVibrateCheck=function(){this.vibrateToggle.isChecked?this.vibrateToggle.node.children[0].active=!1:this.vibrateToggle.node.children[0].active=!0,p.instance.gameData.updateVibration(this.vibrateToggle.isChecked)},n.onVibrateClick=function(){!1===this.vibrateToggle.isChecked&&v.vibrateShort(!1)},t}(r)).prototype,"sndToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=c(A.prototype,"vibrateToggle",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=A))||y));t._RF.pop()}}}));

System.register("chunks:///_virtual/LevelData.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./GameMain.ts"],(function(s){"use strict";var e,o,t,l;return{setters:[function(s){e=s.cclegacy,o=s.Color},function(s){t=s.defineProperty},function(s){l=s.GameMain}],execute:function(){e._RF.push({},"9a01a2u8ehMpJsekgiqD03Q","LevelData",void 0);s("LevelData",function(){function s(){t(this,"id",0),t(this,"levelId",0),t(this,"name",""),t(this,"isSpec",!1),t(this,"fold",0),t(this,"colors",new o(0,0,0,0)),t(this,"width",1),t(this,"height",1),t(this,"stageColors",[]),t(this,"selColors",[])}var e=s.prototype;return e.addSelColor=function(s){for(var e=!1,t=0;t<this.selColors.length;t++)if(o.equals(this.selColors[t],s)){e=!0;break}e||this.selColors.push(s)},e.spaceColorToLast=function(){for(var s=null,e=0;e<this.selColors.length;e++)if(o.equals(this.selColors[e],l.spaceColor)){s=this.selColors.splice(e,1);break}null!==s&&this.selColors.push(l.spaceColor)},s}());e._RF.pop()}}}));

System.register("chunks:///_virtual/ResultUI.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./AudioManager.ts","./GameMain.ts","./Platform.ts"],(function(t){"use strict";var e,n,a,i,o,r,s,c,l,u,d,h,p,f,v,N;return{setters:[function(t){e=t.cclegacy,n=t._decorator,a=t.Node,i=t.Sprite,o=t.tween,r=t.v3,s=t.Component},function(t){c=t.applyDecoratedDescriptor,l=t.inheritsLoose,u=t.initializerDefineProperty,d=t.assertThisInitialized},function(t){h=t.AudioManager,p=t.AudioClipID},function(t){f=t.GameMain},function(t){v=t.default,N=t.PlatformType}],execute:function(){var b,y,m,g,I,B,w,O,S,P,x,T,U,A,_,V,D,z,R,C,k;e._RF.push({},"9be7cxij7RDaYUuSv2aeamF","ResultUI",void 0);var L=n.ccclass,M=n.property;t("ResultUI",(b=L("ResultUI"),y=M({type:a}),m=M({type:a}),g=M({type:a}),I=M({type:i}),B=M({type:i}),w=M({type:i}),O=M({type:a}),S=M({type:a}),P=M({type:a}),b((U=c((T=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a))||this,u(d(e),"star_bg0Node",U,d(e)),u(d(e),"star_bg1Node",A,d(e)),u(d(e),"star_bg2Node",_,d(e)),u(d(e),"star0",V,d(e)),u(d(e),"star1",D,d(e)),u(d(e),"star2",z,d(e)),u(d(e),"nextBtnNode",R,d(e)),u(d(e),"nextShortBtnNode",C,d(e)),u(d(e),"retryBtnNode",k,d(e)),e}l(e,t);var n=e.prototype;return n.onLoad=function(){v.currentPlatform,N.VIVO,this.nextBtnNode.setPosition(0,255,0),this.retryBtnNode.setPosition(-130,255,0),this.nextShortBtnNode.setPosition(130,255,0)},n.start=function(){},n.isShow=function(){return this.node.active},n.show=function(t){var e=this;if(this.node.active=!0,this.star_bg0Node.active=!0,this.star_bg1Node.active=!0,this.star_bg2Node.active=!0,this.star0.node.active=!1,this.star1.node.active=!1,this.star2.node.active=!1,this.nextBtnNode.active=!1,this.nextShortBtnNode.active=!1,this.retryBtnNode.active=!1,v.currentPlatform===N.OPPO&&(f.instance.oppoNativeAd.hide(),f.instance.oppoNativeAd2.show()),v.currentPlatform===N.VIVO&&f.instance.oppoNativeAd.hide(),f.instance.isSpecLevel){var n=200+f.instance.gameData.specLevelId;f.instance.starsData.setData(n,t)}else f.instance.starsData.setData(f.instance.gameData.curLevelId,t);f.instance.levelsUI.updateCurItemDisplay();var a=1.1;1===t?(this.star0.node.active=!0,this.star0.color.a=128,this.star0.node.setScale(1.3,1.3,1),h.playClip(p.Star),o(this.star0.node).to(.4,{scale:r(a,a,1)},{easing:"backOut"}).call((function(){})).start(),o(this.star0.color).to(.4,{a:255}).call((function(){})).start(),this.scheduleOnce((function(){v.currentPlatform===N.TT&&(f.instance.stopRecord(),f.instance.recordTime>=4200&&e.scheduleOnce((function(){f.instance.shareUI.show()}),.3)),f.instance.mainUI.showTopUI(),e.nextBtnNode.active=!1,e.nextShortBtnNode.active=!0,e.retryBtnNode.active=!0}),1),v.currentPlatform===N.VIVO&&f.instance.oppoNativeAd2.show()):2===t?(this.star0.node.active=!0,this.star0.color.a=128,this.star0.node.setScale(1.3,1.3,1),this.star1.color.a=128,this.star1.node.setScale(1.3,1.3,1),h.playClip(p.Star),o(this.star0.node).to(.4,{scale:r(a,a,1)},{easing:"backOut"}).call((function(){})).start(),o(this.star0.color).to(.4,{a:255}).call((function(){})).start(),this.scheduleOnce((function(){e.star1.node.active=!0,h.playClip(p.Star),o(e.star1.node).to(.4,{scale:r(a,a,1)},{easing:"backOut"}).call((function(){})).start(),o(e.star1.color).to(.4,{a:255}).call((function(){})).start()}),.3),this.scheduleOnce((function(){v.currentPlatform===N.TT&&(f.instance.stopRecord(),f.instance.recordTime>=4200&&e.scheduleOnce((function(){f.instance.shareUI.show()}),.3)),f.instance.mainUI.showTopUI(),e.nextBtnNode.active=!1,e.nextShortBtnNode.active=!0,e.retryBtnNode.active=!0}),.7+.6),v.currentPlatform===N.VIVO&&f.instance.oppoNativeAd2.show()):3===t?(this.star0.node.active=!0,this.star0.color.a=128,this.star0.node.setScale(1.3,1.3,1),this.star1.color.a=128,this.star1.node.setScale(1.3,1.3,1),this.star2.color.a=128,this.star2.node.setScale(1.3,1.3,1),o(this.star0.node).to(.4,{scale:r(a,a,1)},{easing:"backOut"}).call((function(){})).start(),o(this.star0.color).to(.4,{a:255}).call((function(){})).start(),h.playClip(p.Star),this.scheduleOnce((function(){h.playClip(p.Star),e.star1.node.active=!0,o(e.star1.node).to(.4,{scale:r(a,a,1)},{easing:"backOut"}).call((function(){})).start(),o(e.star1.color).to(.4,{a:255}).call((function(){})).start()}),.3),this.scheduleOnce((function(){h.playClip(p.Star),e.star2.node.active=!0,o(e.star2.node).to(.4,{scale:r(a,a,1)},{easing:"backOut"}).call((function(){})).start(),o(e.star2.color).to(.4,{a:255}).call((function(){})).start()}),.6),this.scheduleOnce((function(){v.currentPlatform===N.TT&&(f.instance.stopRecord(),f.instance.recordTime>=4200&&e.scheduleOnce((function(){f.instance.shareUI.show()}),.3)),f.instance.mainUI.showTopUI(),e.nextBtnNode.active=!0,e.nextShortBtnNode.active=!1,e.retryBtnNode.active=!1}),1.6),v.currentPlatform===N.VIVO&&f.instance.oppoNativeAd2.show()):(this.scheduleOnce((function(){v.currentPlatform===N.TT&&f.instance.stopRecord(),f.instance.mainUI.showTopUI(),e.nextBtnNode.active=!1,e.nextShortBtnNode.active=!0,e.retryBtnNode.active=!0}),.4),v.currentPlatform===N.VIVO&&f.instance.oppoNativeAd2.show())},n.onNextClick=function(){f.instance.mainUI.hideTopUI(),this.nextBtnNode.active=!1,f.instance.isSpecLevel,f.instance.startNextLevel(),v.isOV()&&(f.instance.oppoNativeAd.show(),f.instance.oppoNativeAd2.hide()),v.currentPlatform===N.TT&&v.destroyBannerAd()},n.close=function(){this.node.active=!1},n.moveOut=function(t){var e=this;void 0===t&&(t=null),o(this.node).to(.3,{position:r(-750,0,0)}).call((function(){e.node.active=!1,e.node.setPosition(0,0,0),null!==t&&t()})).start()},e}(s)).prototype,"star_bg0Node",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=c(T.prototype,"star_bg1Node",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=c(T.prototype,"star_bg2Node",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=c(T.prototype,"star0",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=c(T.prototype,"star1",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=c(T.prototype,"star2",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=c(T.prototype,"nextBtnNode",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=c(T.prototype,"nextShortBtnNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=c(T.prototype,"retryBtnNode",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=T))||x));e._RF.pop()}}}));

System.register("chunks:///_virtual/MatTest.ts",["cc","./_rollupPluginModLoBabelHelpers.js"],(function(e){"use strict";var t,r,i,n,o,a,s,l,c;return{setters:[function(e){t=e.cclegacy,r=e._decorator,i=e.MeshRenderer,n=e.Color,o=e.Component},function(e){a=e.applyDecoratedDescriptor,s=e.inheritsLoose,l=e.initializerDefineProperty,c=e.assertThisInitialized}],execute:function(){var u,p,h,y,f,m,b;t._RF.push({},"ab2fb9lCwNCI4MLXHy2lRE8","MatTest",void 0);var M=r.ccclass,d=r.property;e("MatTest",(u=M("MatTest"),p=d({type:i}),h=d({type:i}),u((m=a((f=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return t=e.call.apply(e,[this].concat(i))||this,l(c(t),"mesh1",m,c(t)),l(c(t),"mesh2",b,c(t)),t}return s(t,e),t.prototype.start=function(){this.mesh1.material.setProperty("mainColor",n.RED),this.mesh2.material.setProperty("mainColor",n.GREEN)},t}(o)).prototype,"mesh1",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=a(f.prototype,"mesh2",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=f))||y));t._RF.pop()}}}));

System.register("chunks:///_virtual/TTRecorder.ts",["cc","./_rollupPluginModLoBabelHelpers.js"],(function(o){"use strict";var e,t;return{setters:[function(o){e=o.cclegacy},function(o){t=o.defineProperty}],execute:function(){e._RF.push({},"b9c58gWbkhGAY+DSZ8QU5T9","TTRecorder",void 0);o("default",function(){function o(){var o=this;t(this,"recorder",null),t(this,"clipPath",""),this.recorder=tt.getGameRecorderManager(),this.recorder.onStart((function(e){console.log("** tt record start"),o.recorder.recordClip({timeRange:[1,59]})})),this.recorder.onPause((function(o){console.log("tt record pause")})),this.recorder.onResume((function(o){console.log("tt record resume")})),this.recorder.onStop((function(e){console.log("tt record stop"),o.recorder.clipVideo({path:e.videoPath,timeRange:[50,0],success:function(e){o.clipPath=e.videoPath,console.log("ClipV success="+o.clipPath)},fail:function(o){console.log("** record error="+o)}})})),this.recorder.onError((function(o){console.log("tt record error")})),this.recorder.onInterruptionBegin((function(o){console.log("tt record onInterruptionBegin")})),this.recorder.onInterruptionEnd((function(o){console.log("tt record onInterruptionEnd")}))}var e=o.prototype;return e.shareClip=function(o){void 0===o&&(o=null),console.log("CLIPPATH="+this.clipPath),""!==this.clipPath&&tt.shareVideo({videoPath:this.clipPath,success:function(e){console.log("视频分享成功"),null!==o&&o()},fail:function(o){console.log("视频分享失败")},extra:{createChallenge:!0}})},e.shareClipAdv=function(o,e,t){void 0===t&&(t=null),""!==this.clipPath&&tt.shareAppMessage({channel:"video",extra:{videoPath:this.clipPath,videoTopics:["像素大师3D"],hashtag_list:["像素大师3D"],video_title:"我像素画贼6!",createChallenge:!0},success:function(){console.log("分享视频adv成功"),null!==t&&t()},fail:function(o){console.log("分享视频adv失败")}})},e.start=function(o){void 0===o&&(o=60),this.recorder.start({duration:o})},e.stop=function(){this.recorder.stop()},o}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Loading.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./Platform.ts"],(function(r){"use strict";var e,t,i,a,n,o,s,d,l,u,p,g,c,f,b;return{setters:[function(r){e=r.cclegacy,t=r._decorator,i=r.ProgressBar,a=r.Node,n=r.Prefab,o=r.game,s=r.director,d=r.instantiate,l=r.Component},function(r){u=r.defineProperty,p=r.applyDecoratedDescriptor,g=r.inheritsLoose,c=r.initializerDefineProperty,f=r.assertThisInitialized},function(r){b=r.default}],execute:function(){var y,P,h,m,v,B,L,C,j,w,z,N,O;e._RF.push({},"f0e60A/ud1IG72AFYpNEa5N","Loading",void 0);var D=t.ccclass,_=t.property;r("Loading",(y=D("Loading"),P=_({type:i}),h=_({type:a}),m=_({type:n}),v=_({type:a}),y((O=N=function(r){function e(){for(var e,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return e=r.call.apply(r,[this].concat(i))||this,c(f(e),"progressBar",C,f(e)),c(f(e),"adNode",j,f(e)),c(f(e),"gridPrefab",w,f(e)),c(f(e),"gridParent",z,f(e)),u(f(e),"loadPrefabs",!1),u(f(e),"loadIdx",0),u(f(e),"startTime",0),e}g(e,r);var t=e.prototype;return t.onLoad=function(){this.progressBar.progress=.65,o.addPersistRootNode(this.gridParent),b.decidePlatform()},t.start=function(){this.startLoading()},t.startLoading=function(){var r=this;this.startTime=Date.now(),s.preloadScene("game",(function(e,t,i){var a=e/t;a>1&&(a=1),r.progressBar.progress=.7*a,r.progressBar.progress<.65&&(r.progressBar.progress=.65)}),(function(t,i){for(var a=0;a<e.gridObjCreateCnt;a++){var n=d(r.gridPrefab);e.gridObjs.push(n),r.gridParent.addChild(n),r.progressBar.progress=.7+e.gridObjs.length/e.gridObjCreateCnt*.3}Date.now(),r.startTime;s.loadScene("game")}))},t.update=function(r){},e}(l),u(N,"gridObjs",[]),u(N,"gridObjCreateCnt",7565),C=p((L=O).prototype,"progressBar",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=p(L.prototype,"adNode",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=p(L.prototype,"gridPrefab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=p(L.prototype,"gridParent",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=L))||B));e._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Util.ts","./TTRecorder.ts","./GameData.ts","./AudioManager.ts","./OppoNativeAd.ts","./LevelData.ts","./SelBtn.ts","./MainUI.ts","./ResultUI.ts","./SettingUI.ts","./LevelListUI.ts","./LevelStarsData.ts","./ShareUI.ts","./GameMain.ts","./Platform.ts","./DataStorage.ts","./RotateAnim.ts","./SpecCube.ts","./Loading.ts","./LevelItem.ts","./PaintCube.ts","./MatTest.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});